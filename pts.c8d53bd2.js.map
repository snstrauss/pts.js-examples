{"version":3,"sources":["lib/pts.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","Space_1","Form_1","Pt_1","Util_1","Typography_1","Op_1","CanvasSpace","elem","callback","_pixelScale","_autoResize","_bgcolor","_offscreen","_initialResize","_selector","_existed","id","Element","document","querySelector","substr","_container","_createElement","_canvas","appendChild","body","nodeName","toLowerCase","parentElement","setTimeout","_ready","_ctx","getContext","createElement","setAttribute","Error","_isReady","_resizeHandler","clear","dispatchEvent","Event","k","players","start","bound","clone","_pointer","center","opt","bgcolor","autoResize","resize","undefined","retina","r1","devicePixelRatio","r2","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","Math","max","offscreen","_offCanvas","_offCtx","b","evt","width","size","x","height","y","style","floor","scale","translate","render","isPlaying","playOnce","getBoundingClientRect","box","Bound","fromBoundingRect","add","pageXOffset","pageYOffset","CanvasForm","bg","lastColor","fillStyle","fillRect","clearRect","time","save","restore","auto","addEventListener","removeEventListener","MultiTouchSpace","space","_style","strokeStyle","lineWidth","lineJoin","lineCap","globalAlpha","_space","ctx","font","_font","off","clearOffscreen","hasOffscreen","offscreenCtx","offset","drawImage","offscreenCanvas","a","filled","linejoin","linecap","stroked","stops","vals","length","push","len","v","area1","area2","map","abs","grad","createRadialGradient","createLinearGradient","addColorStop","globalCompositeOperation","clip","segments","setLineDash","lineDashOffset","sizeOrFont","weight","lineHeight","family","face","_estimateTextWidth","fontWidthEstimate","estimate","Typography","textWidthEstimator","measureText","str","tail","truncate","getTextWidth","vertical","Rectangle","px","textAlign","py","Pt","Font","_filled","fill","_stroked","stroke","radius","shape","_paint","pts","circle","pt","rotation","startAngle","endAngle","Const","two_pi","cc","ellipse","arc","halfsize","square","line","polygon","rect","img","target","original","image","txt","maxWidth","text","verticalAlign","overrideBaseline","textBaseline","_textTruncate","_textAlign","crop","lstep","nextLine","sub","buffer","newln","indexOf","dt","lastIndexOf","lines","lsize","lbox","lpad","Group","$add","$subtract","alignment","baseline","w","beginPath","closePath","x1","y1","x2","y2","moveTo","lineTo","orig","fillText","VisualForm","Num_1","Color","args","_mode","_isNorm","toMode","convert","fname","toUpperCase","to","toNorm","ranges","Num","mapToRange","normalize","format","_hex","toString","alpha","Util","getArgs","hex","fn","substring","hexVal","parseInt","from","zipSlice","$take","rgb","normalizedInput","normalizedOutput","$normalize","g","min","h","hsl","q","sc","hsb","f","pick","XYZtoLAB","RGBtoXYZ","lab","XYZtoRGB","LABtoXYZ","LABtoLCH","RGBtoLAB","lch","LABtoRGB","LCHtoLAB","XYZtoLUV","luv","LUVtoXYZ","pow","xyz","z","round","divide","D65","cy","nnn","u","refU","refV","L","cubeY","Geom","toDegree","boundRadian","atan2","sqrt","rad","toRadian","cos","sin","LinearAlgebra_1","Create","count","dimensions","random","depth","ln","Line","subpoints","unshift","columns","rows","orientation","unit","$divide","$multiply","topLeft","angleOffset","half_pi","toAngle","dx","dy","seed","np","Noise","initNoise","Delaunay","__noise_grad3","__noise_permTable","perm","_n","concat","j","n00","Vec","dot","n01","n10","n11","_fade","tx","lerp","arguments","_mesh","triangleOnly","indices","sort","slice","st","_superTriangle","opened","_circum","closed","tris","edges","circum","triangle","splice","epsilon","_dedupe","_cache","vs","neighborPts","cs","sortEdges","minPt","maxPt","$min","$max","mid","dmax","tri","_triangle","Triangle","circumcircle","DOMSpace","_css","refresh","styles","background","innerHTML","val","update","backgroundColor","appendTo","data","HTMLSpace","HTMLForm","player","temp","querySelectorAll","scopeID","forEach","el","parentNode","removeChild","parent","autoClass","group","groupID","groupCount","currentID","currentClass","element","assign","styleTo","group_id","nextID","item","animateID","updateScope","point","warn","domID","setAttr","join","htmlElement","getID","class","rectStyle","_checkSize","textContent","textStyle","Form","required","groups","rest","_multiple","magnitude","make","ceil","Number","MIN_VALUE","index","MAX_VALUE","Mat","isNum","transposed","elementwise","ai","alen","transpose","bi","blen","defaultValue","useLongest","ps","reduce","zip","cosA","sinA","tanX","tanY","sx","sy","at","scale2DMatrix","rotate2DMatrix","shear2DMatrix","p1","p2","intercept","yi","ang2","atan","slope","threshold","sum","method","Shaping","sineInOut","currA","currB","targetA","targetB","normalizeValue","angle","boundValue","radian","deg_to_rad","rad_to_deg","average","ptOrIndex","direction","axis","xy","pa","pb","boundPt1","boundPt2","within","bounds","boundingBox","da","db","det","$cross2D","anchor","Array","isArray","scs","lenP","rotateAt2DMatrix","transform2D","shearAt2DMatrix","tanx","tan","tany","mat","reflectAt2DMatrix","Float64Array","PI","find","boundAngle","table","t2","t4","t6","bounceOut","bounceIn","exp","A","B","C","om2a","curve","Curve","bezierStep","controlPoints","steps","tt","Range","_dims","_source","fromPtArray","calc","dims","mag","_max","_min","_mag","exclude","_errorLength","obj","param","_errorOutofBound","xi","p3","$cross","equals","magnitudeSq","asProjection","proj","$project","perpendicularFromPt","la","lb","intersectRay2D","withinBound","ray","lineOrRay","poly","sourceIsRay","intersectLineWithRay2D","intersectLine2D","next","lines1","lines2","isRay","lenk","_ip","gridPt","subtract","intersectGridWithRay2D","gg","hasIntersectRect2D","intersectLines2D","sides","num","interpolate","cropAsCircle","tdx","ls","multiply","fromCenter","sideIdx","graphic","atTail","perpendicular","widthOrSize","fromTopLeft","half","Circle","fromRect","enclose","maxValue","minValue","p0","corners","rects","merged","flatten","_center","ratio","asRows","rect1","rect2","resetBoundingBox","incircle","disc","discSqrt","t1","dv","dr2","dr","ar","br","ar2","br2","ang","inc","top","left","toTriangle","fromCircle","Polygon","midpoints","opp","oppositeSide","altitude","bisector","incenter","area","perim","perimeter","total","md","medial","circumcenter","centroid","idx","sp","split","mids","gs","right","adjacentSides","sorted","dq","bot","hull","originIndex","_near","_item","unitAxis","poly1","poly2","projectAxis","lineAt","info","which","dist","normal","edge","vertex","minDist","MAX_SAFE_INTEGER","_axisOverlap","check","dir","plen","b1","b2","c1","c2","smallest","lp","ins","intersectPolygon2D","polys","boxes","ts","copyStart","_index","ctrls","params","getSteps","catmullRomStep","cp","step","_calcPt","tension","cardinalStep","h2","h3","bsplineTensionStep","bsplineStep","World","friction","gravity","_lastTime","_gravity","_friction","_damping","_particles","_bodies","_pnames","_bnames","_bound","fromGroup","ms","_updateParticles","_updateBodies","_drawParticles","_drawBodies","Body","bodyIndex","particleIndex","prevDt","addForce","verlet","integrate","boundConstraint","collide","bds","klen","bk","processBody","mlen","processParticle","processEdges","stiff","precise","m1","mass","m2","mm","delta","distSq","damping","changed","previous","Particle","_mass","_radius","_force","_prev","_lock","lastDt","_lockPt","lt","damp","dp","np1","np2","f1","f2","dm1","dm2","_body","_cs","_stiff","_locks","list","index1","index2","link","nd","n2","edgeConstraint","hit","hasIntersectPolygon","cv","eg","lambda","m0","mr0","mr1","hasIntersectCircle","autoLink","autoMass","init","linkAll","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","e","rejected","result","done","then","apply","Tempo","bpm","_listeners","_listenerInc","listener","beats","self","_createID","period","duration","continuous","progress","li","_t","_ms","isStart","clamp","ftime","track","type","_bpm","Sound","_playing","_type","AudioContext","webkitAudioContext","buf","_node","createBufferSource","_buffer","onended","createOscillator","osc","setPeriodicWave","frequency","node","connect","minDb","maxDb","smooth","createAnalyser","fftSize","minDecibels","maxDecibels","smoothingTimeConstant","analyzer","frequencyBinCount","Uint8Array","getByteTimeDomainData","getByteFrequencyData","position","trim","timeDomain","freqDomain","_domain","_domainTo","stop","disconnect","timeAt","state","resume","_timestamp","currentTime","play","_gen","destination","pause","_stream","getAudioTracks","dur","curr","readyState","sampleRate","stream","source","crossOrigin","Audio","autoplay","createMediaElementSource","url","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","createBuffer","err","send","constraint","audio","video","navigator","mediaDevices","getUserMedia","createMediaStreamSource","console","error","anchorFromPt","change","fns","_ops","op","toArray","cross2D","cross","rotate2D","shear2D","reflect2D","_id","randomize","Float32Array","chunkSize","stride","loopBack","pts_per_segment","chunk","tc","moveBy","dim","desc","ptFn","forEachPt","_size","_topLeft","_bottomRight","_inited","_updateSize","_updateCenter","_updatePosFromTop","_updatePosFromCenter","bottom","UI_1","Space","_time","prev","diff","end","playerCount","_animID","_pause","_refresh","animate","pid","inited","requestAnimationFrame","playItems","cancelAnimationFrame","toggle","context","_renderFunc","_pressed","_dragged","_hasMouse","_hasTouch","_bind","bindCanvas","_mouseDown","_mouseUp","_mouseOver","_mouseOut","_mouseMove","_contextMenu","unbindCanvas","_touchStart","_touchMove","pageX","pageY","MouseEvent","outerBound","action","changedTouches","touch","_mouseAction","UIPointerActions","down","drop","up","move","drag","over","out","contextmenu","preventDefault","Dom_1","SVGSpace","svgElement","SVGForm","createElementNS","cx","largeArc","pi","sweep","_poly","points","fromArray","samples","distribution","avg","byHeight","nh","defaultSize","UIShape","rectangle","polyline","uidrag","uidrop","enter","leave","all","UI","states","_holds","Map","_group","_shape","_counter","_states","_actions","_addHandler","_removeHandler","_within","values","_trigger","newKey","keys","set","delete","hasIntersectPoint","ui","uis","listen","UIButton","_hoverID","hover","clicks","UA","on","_capID","hold","unhold","ids","enterID","leaveID","UIDragger","_draggingID","_moveHoldID","_dropHoldID","_upHoldID","dragging","moved","endDrag","yz","xz","horizontal","identical","bottom_right","bottom_left","top_left","top_right","quarter_pi","one_degree","newton","gaussian","lv","_warnLevel","pos","ArrayBuffer","isView","message","defaultReturn","warnLevel","range","matchSize","chunks","part","flattenAsGroup","arr","lenB","arrays","status","responseText","onerror","__export","_Canvas","namespace","scope","lib","quickStart","setup","form","getForm","bindMouse","bindTouch"],"mappings":"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","file":"pts.c8d53bd2.js","sourceRoot":"..","sourcesContent":["/*!\n * pts.js 0.9.2 - Copyright © 2017-2020 William Ngan and contributors.\n * Licensed under Apache 2.0 License.\n * See https://github.com/williamngan/pts for details.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pts\"] = factory();\n\telse\n\t\troot[\"Pts\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/_lib.ts\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/Canvas.ts\":\n/*!***********************!*\\\n  !*** ./src/Canvas.ts ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Space_1 = __webpack_require__(/*! ./Space */ \"./src/Space.ts\");\nconst Form_1 = __webpack_require__(/*! ./Form */ \"./src/Form.ts\");\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Typography_1 = __webpack_require__(/*! ./Typography */ \"./src/Typography.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nclass CanvasSpace extends Space_1.MultiTouchSpace {\n    constructor(elem, callback) {\n        super();\n        this._pixelScale = 1;\n        this._autoResize = true;\n        this._bgcolor = \"#e1e9f0\";\n        this._offscreen = false;\n        this._initialResize = false;\n        var _selector = null;\n        var _existed = false;\n        this.id = \"pt\";\n        if (elem instanceof Element) {\n            _selector = elem;\n            this.id = \"pts_existing_space\";\n        }\n        else {\n            let id = elem;\n            id = (elem[0] === \"#\" || elem[0] === \".\") ? elem : \"#\" + elem;\n            _selector = document.querySelector(id);\n            _existed = true;\n            this.id = id.substr(1);\n        }\n        if (!_selector) {\n            this._container = this._createElement(\"div\", this.id + \"_container\");\n            this._canvas = this._createElement(\"canvas\", this.id);\n            this._container.appendChild(this._canvas);\n            document.body.appendChild(this._container);\n            _existed = false;\n        }\n        else if (_selector.nodeName.toLowerCase() != \"canvas\") {\n            this._container = _selector;\n            this._canvas = this._createElement(\"canvas\", this.id + \"_canvas\");\n            this._container.appendChild(this._canvas);\n            this._initialResize = true;\n        }\n        else {\n            this._canvas = _selector;\n            this._container = _selector.parentElement;\n            this._autoResize = false;\n        }\n        setTimeout(this._ready.bind(this, callback), 100);\n        this._ctx = this._canvas.getContext('2d');\n    }\n    _createElement(elem = \"div\", id) {\n        let d = document.createElement(elem);\n        d.setAttribute(\"id\", id);\n        return d;\n    }\n    _ready(callback) {\n        if (!this._container)\n            throw new Error(`Cannot initiate #${this.id} element`);\n        this._isReady = true;\n        this._resizeHandler(null);\n        this.clear(this._bgcolor);\n        this._canvas.dispatchEvent(new Event(\"ready\"));\n        for (let k in this.players) {\n            if (this.players.hasOwnProperty(k)) {\n                if (this.players[k].start)\n                    this.players[k].start(this.bound.clone(), this);\n            }\n        }\n        this._pointer = this.center;\n        this._initialResize = false;\n        if (callback)\n            callback(this.bound, this._canvas);\n    }\n    setup(opt) {\n        if (opt.bgcolor)\n            this._bgcolor = opt.bgcolor;\n        this.autoResize = (opt.resize != undefined) ? opt.resize : false;\n        if (opt.retina !== false) {\n            let r1 = window.devicePixelRatio || 1;\n            let r2 = this._ctx.webkitBackingStorePixelRatio || this._ctx.mozBackingStorePixelRatio || this._ctx.msBackingStorePixelRatio || this._ctx.oBackingStorePixelRatio || this._ctx.backingStorePixelRatio || 1;\n            this._pixelScale = Math.max(1, r1 / r2);\n        }\n        if (opt.offscreen) {\n            this._offscreen = true;\n            this._offCanvas = this._createElement(\"canvas\", this.id + \"_offscreen\");\n            this._offCtx = this._offCanvas.getContext('2d');\n        }\n        else {\n            this._offscreen = false;\n        }\n        return this;\n    }\n    set autoResize(auto) {\n        this._autoResize = auto;\n        if (auto) {\n            window.addEventListener('resize', this._resizeHandler.bind(this));\n        }\n        else {\n            window.removeEventListener('resize', this._resizeHandler.bind(this));\n        }\n    }\n    get autoResize() { return this._autoResize; }\n    resize(b, evt) {\n        this.bound = b;\n        this._canvas.width = this.bound.size.x * this._pixelScale;\n        this._canvas.height = this.bound.size.y * this._pixelScale;\n        this._canvas.style.width = Math.floor(this.bound.size.x) + \"px\";\n        this._canvas.style.height = Math.floor(this.bound.size.y) + \"px\";\n        if (this._offscreen) {\n            this._offCanvas.width = this.bound.size.x * this._pixelScale;\n            this._offCanvas.height = this.bound.size.y * this._pixelScale;\n        }\n        if (this._pixelScale != 1) {\n            this._ctx.scale(this._pixelScale, this._pixelScale);\n            this._ctx.translate(0.5, 0.5);\n            if (this._offscreen) {\n                this._offCtx.scale(this._pixelScale, this._pixelScale);\n                this._offCtx.translate(0.5, 0.5);\n            }\n        }\n        for (let k in this.players) {\n            if (this.players.hasOwnProperty(k)) {\n                let p = this.players[k];\n                if (p.resize)\n                    p.resize(this.bound, evt);\n            }\n        }\n        this.render(this._ctx);\n        if (evt && !this.isPlaying)\n            this.playOnce(0);\n        return this;\n    }\n    _resizeHandler(evt) {\n        let b = (this._autoResize || this._initialResize) ? this._container.getBoundingClientRect() : this._canvas.getBoundingClientRect();\n        if (b) {\n            let box = Pt_1.Bound.fromBoundingRect(b);\n            box.center = box.center.add(window.pageXOffset, window.pageYOffset);\n            this.resize(box, evt);\n        }\n    }\n    set background(bg) { this._bgcolor = bg; }\n    get background() { return this._bgcolor; }\n    get pixelScale() {\n        return this._pixelScale;\n    }\n    get hasOffscreen() {\n        return this._offscreen;\n    }\n    get offscreenCtx() { return this._offCtx; }\n    get offscreenCanvas() { return this._offCanvas; }\n    getForm() { return new CanvasForm(this); }\n    get element() {\n        return this._canvas;\n    }\n    get parent() {\n        return this._container;\n    }\n    get ready() {\n        return this._isReady;\n    }\n    get ctx() { return this._ctx; }\n    clear(bg) {\n        if (bg)\n            this._bgcolor = bg;\n        let lastColor = this._ctx.fillStyle;\n        if (this._bgcolor && this._bgcolor != \"transparent\") {\n            this._ctx.fillStyle = this._bgcolor;\n            this._ctx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n        }\n        else {\n            this._ctx.clearRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n        }\n        this._ctx.fillStyle = lastColor;\n        return this;\n    }\n    clearOffscreen(bg) {\n        if (this._offscreen) {\n            if (bg) {\n                this._offCtx.fillStyle = bg;\n                this._offCtx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n            }\n            else {\n                this._offCtx.clearRect(-1, -1, this._offCanvas.width + 1, this._offCanvas.height + 1);\n            }\n        }\n        return this;\n    }\n    playItems(time) {\n        if (this._isReady) {\n            this._ctx.save();\n            if (this._offscreen)\n                this._offCtx.save();\n            super.playItems(time);\n            this._ctx.restore();\n            if (this._offscreen)\n                this._offCtx.restore();\n            this.render(this._ctx);\n        }\n    }\n}\nexports.CanvasSpace = CanvasSpace;\nclass CanvasForm extends Form_1.VisualForm {\n    constructor(space) {\n        super();\n        this._style = {\n            fillStyle: \"#f03\", strokeStyle: \"#fff\",\n            lineWidth: 1, lineJoin: \"bevel\", lineCap: \"butt\",\n            globalAlpha: 1\n        };\n        this._space = space;\n        this._space.add({ start: () => {\n                this._ctx = this._space.ctx;\n                this._ctx.fillStyle = this._style.fillStyle;\n                this._ctx.strokeStyle = this._style.strokeStyle;\n                this._ctx.lineJoin = \"bevel\";\n                this._ctx.font = this._font.value;\n                this._ready = true;\n            } });\n    }\n    get space() { return this._space; }\n    get ctx() { return this._space.ctx; }\n    useOffscreen(off = true, clear = false) {\n        if (clear)\n            this._space.clearOffscreen((typeof clear == \"string\") ? clear : null);\n        this._ctx = (this._space.hasOffscreen && off) ? this._space.offscreenCtx : this._space.ctx;\n        return this;\n    }\n    renderOffscreen(offset = [0, 0]) {\n        if (this._space.hasOffscreen) {\n            this._space.ctx.drawImage(this._space.offscreenCanvas, offset[0], offset[1], this._space.width, this._space.height);\n        }\n    }\n    alpha(a) {\n        this._ctx.globalAlpha = a;\n        this._style.globalAlpha = a;\n        return this;\n    }\n    fill(c) {\n        if (typeof c == \"boolean\") {\n            this.filled = c;\n        }\n        else {\n            this.filled = true;\n            this._style.fillStyle = c;\n            this._ctx.fillStyle = c;\n        }\n        return this;\n    }\n    stroke(c, width, linejoin, linecap) {\n        if (typeof c == \"boolean\") {\n            this.stroked = c;\n        }\n        else {\n            this.stroked = true;\n            this._style.strokeStyle = c;\n            this._ctx.strokeStyle = c;\n            if (width) {\n                this._ctx.lineWidth = width;\n                this._style.lineWidth = width;\n            }\n            if (linejoin) {\n                this._ctx.lineJoin = linejoin;\n                this._style.lineJoin = linejoin;\n            }\n            if (linecap) {\n                this._ctx.lineCap = linecap;\n                this._style.lineCap = linecap;\n            }\n        }\n        return this;\n    }\n    gradient(stops) {\n        let vals = [];\n        if (stops.length < 2)\n            stops.push([0.99, \"#000\"], [1, \"#000\"]);\n        for (let i = 0, len = stops.length; i < len; i++) {\n            let t = typeof stops[i] === 'string' ? i * (1 / (stops.length - 1)) : stops[i][0];\n            let v = typeof stops[i] === 'string' ? stops[i] : stops[i][1];\n            vals.push([t, v]);\n        }\n        return (area1, area2) => {\n            area1 = area1.map(a => a.abs());\n            if (area2)\n                area2.map(a => a.abs());\n            let grad = area2\n                ? this.ctx.createRadialGradient(area1[0][0], area1[0][1], area1[1][0], area2[0][0], area2[0][1], area2[1][0])\n                : this.ctx.createLinearGradient(area1[0][0], area1[0][1], area1[1][0], area1[1][1]);\n            for (let i = 0, len = vals.length; i < len; i++) {\n                grad.addColorStop(vals[i][0], vals[i][1]);\n            }\n            return grad;\n        };\n    }\n    composite(mode = 'source-over') {\n        this.ctx.globalCompositeOperation = mode;\n        return this;\n    }\n    clip() {\n        this.ctx.clip();\n        return this;\n    }\n    dash(segments = true, offset = 0) {\n        if (!segments) {\n            this._ctx.setLineDash([]);\n            this._ctx.lineDashOffset = 0;\n        }\n        else {\n            if (segments === true) {\n                segments = [5, 5];\n            }\n            this._ctx.setLineDash([segments[0], segments[1]]);\n            this._ctx.lineDashOffset = offset;\n        }\n        return this;\n    }\n    font(sizeOrFont, weight, style, lineHeight, family) {\n        if (typeof sizeOrFont == \"number\") {\n            this._font.size = sizeOrFont;\n            if (family)\n                this._font.face = family;\n            if (weight)\n                this._font.weight = weight;\n            if (style)\n                this._font.style = style;\n            if (lineHeight)\n                this._font.lineHeight = lineHeight;\n        }\n        else {\n            this._font = sizeOrFont;\n        }\n        this._ctx.font = this._font.value;\n        if (this._estimateTextWidth)\n            this.fontWidthEstimate(true);\n        return this;\n    }\n    fontWidthEstimate(estimate = true) {\n        this._estimateTextWidth = (estimate) ? Typography_1.Typography.textWidthEstimator(((c) => this._ctx.measureText(c).width)) : undefined;\n        return this;\n    }\n    getTextWidth(c) {\n        return (!this._estimateTextWidth) ? this._ctx.measureText(c + \" .\").width : this._estimateTextWidth(c);\n    }\n    _textTruncate(str, width, tail = \"\") {\n        return Typography_1.Typography.truncate(this.getTextWidth.bind(this), str, width, tail);\n    }\n    _textAlign(box, vertical, offset, center) {\n        if (!center)\n            center = Op_1.Rectangle.center(box);\n        var px = box[0][0];\n        if (this._ctx.textAlign == \"end\" || this._ctx.textAlign == \"right\") {\n            px = box[1][0];\n        }\n        else if (this._ctx.textAlign == \"center\" || this._ctx.textAlign == \"middle\") {\n            px = center[0];\n        }\n        var py = center[1];\n        if (vertical == \"top\" || vertical == \"start\") {\n            py = box[0][1];\n        }\n        else if (vertical == \"end\" || vertical == \"bottom\") {\n            py = box[1][1];\n        }\n        return (offset) ? new Pt_1.Pt(px + offset[0], py + offset[1]) : new Pt_1.Pt(px, py);\n    }\n    reset() {\n        for (let k in this._style) {\n            if (this._style.hasOwnProperty(k)) {\n                this._ctx[k] = this._style[k];\n            }\n        }\n        this._font = new Form_1.Font();\n        this._ctx.font = this._font.value;\n        return this;\n    }\n    _paint() {\n        if (this._filled)\n            this._ctx.fill();\n        if (this._stroked)\n            this._ctx.stroke();\n    }\n    point(p, radius = 5, shape = \"square\") {\n        if (!p)\n            return;\n        if (!CanvasForm[shape])\n            throw new Error(`${shape} is not a static function of CanvasForm`);\n        CanvasForm[shape](this._ctx, p, radius);\n        this._paint();\n        return this;\n    }\n    static circle(ctx, pt, radius = 10) {\n        if (!pt)\n            return;\n        ctx.beginPath();\n        ctx.arc(pt[0], pt[1], radius, 0, Util_1.Const.two_pi, false);\n        ctx.closePath();\n    }\n    circle(pts) {\n        CanvasForm.circle(this._ctx, pts[0], pts[1][0]);\n        this._paint();\n        return this;\n    }\n    static ellipse(ctx, pt, radius, rotation = 0, startAngle = 0, endAngle = Util_1.Const.two_pi, cc = false) {\n        if (!pt || !radius)\n            return;\n        ctx.beginPath();\n        ctx.ellipse(pt[0], pt[1], radius[0], radius[1], rotation, startAngle, endAngle, cc);\n    }\n    ellipse(pt, radius, rotation = 0, startAngle = 0, endAngle = Util_1.Const.two_pi, cc = false) {\n        CanvasForm.ellipse(this._ctx, pt, radius, rotation, startAngle, endAngle, cc);\n        this._paint();\n        return this;\n    }\n    static arc(ctx, pt, radius, startAngle, endAngle, cc) {\n        if (!pt)\n            return;\n        ctx.beginPath();\n        ctx.arc(pt[0], pt[1], radius, startAngle, endAngle, cc);\n    }\n    arc(pt, radius, startAngle, endAngle, cc) {\n        CanvasForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n        this._paint();\n        return this;\n    }\n    static square(ctx, pt, halfsize) {\n        if (!pt)\n            return;\n        let x1 = pt[0] - halfsize;\n        let y1 = pt[1] - halfsize;\n        let x2 = pt[0] + halfsize;\n        let y2 = pt[1] + halfsize;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x1, y2);\n        ctx.lineTo(x2, y2);\n        ctx.lineTo(x2, y1);\n        ctx.closePath();\n    }\n    square(pt, halfsize) {\n        CanvasForm.square(this._ctx, pt, halfsize);\n        this._paint();\n        return this;\n    }\n    static line(ctx, pts) {\n        if (pts.length < 2)\n            return;\n        ctx.beginPath();\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        for (let i = 1, len = pts.length; i < len; i++) {\n            if (pts[i])\n                ctx.lineTo(pts[i][0], pts[i][1]);\n        }\n    }\n    line(pts) {\n        CanvasForm.line(this._ctx, pts);\n        this._paint();\n        return this;\n    }\n    static polygon(ctx, pts) {\n        if (pts.length < 2)\n            return;\n        ctx.beginPath();\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        for (let i = 1, len = pts.length; i < len; i++) {\n            if (pts[i])\n                ctx.lineTo(pts[i][0], pts[i][1]);\n        }\n        ctx.closePath();\n    }\n    polygon(pts) {\n        CanvasForm.polygon(this._ctx, pts);\n        this._paint();\n        return this;\n    }\n    static rect(ctx, pts) {\n        if (pts.length < 2)\n            return;\n        ctx.beginPath();\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        ctx.lineTo(pts[0][0], pts[1][1]);\n        ctx.lineTo(pts[1][0], pts[1][1]);\n        ctx.lineTo(pts[1][0], pts[0][1]);\n        ctx.closePath();\n    }\n    rect(pts) {\n        CanvasForm.rect(this._ctx, pts);\n        this._paint();\n        return this;\n    }\n    static image(ctx, img, target = new Pt_1.Pt(), orig) {\n        if (typeof target[0] === \"number\") {\n            ctx.drawImage(img, target[0], target[1]);\n        }\n        else {\n            let t = target;\n            if (orig) {\n                ctx.drawImage(img, orig[0][0], orig[0][1], orig[1][0] - orig[0][0], orig[1][1] - orig[0][1], t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]);\n            }\n            else {\n                ctx.drawImage(img, t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]);\n            }\n        }\n    }\n    image(img, target, original) {\n        CanvasForm.image(this._ctx, img, target, original);\n        return this;\n    }\n    static text(ctx, pt, txt, maxWidth) {\n        if (!pt)\n            return;\n        ctx.fillText(txt, pt[0], pt[1], maxWidth);\n    }\n    text(pt, txt, maxWidth) {\n        CanvasForm.text(this._ctx, pt, txt, maxWidth);\n        return this;\n    }\n    textBox(box, txt, verticalAlign = \"middle\", tail = \"\", overrideBaseline = true) {\n        if (overrideBaseline)\n            this._ctx.textBaseline = verticalAlign;\n        let size = Op_1.Rectangle.size(box);\n        let t = this._textTruncate(txt, size[0], tail);\n        this.text(this._textAlign(box, verticalAlign), t[0]);\n        return this;\n    }\n    paragraphBox(box, txt, lineHeight = 1.2, verticalAlign = \"top\", crop = true) {\n        let size = Op_1.Rectangle.size(box);\n        this._ctx.textBaseline = \"top\";\n        let lstep = this._font.size * lineHeight;\n        let nextLine = (sub, buffer = [], cc = 0) => {\n            if (!sub)\n                return buffer;\n            if (crop && cc * lstep > size[1] - lstep * 2)\n                return buffer;\n            if (cc > 10000)\n                throw new Error(\"max recursion reached (10000)\");\n            let t = this._textTruncate(sub, size[0], \"\");\n            let newln = t[0].indexOf(\"\\n\");\n            if (newln >= 0) {\n                buffer.push(t[0].substr(0, newln));\n                return nextLine(sub.substr(newln + 1), buffer, cc + 1);\n            }\n            let dt = t[0].lastIndexOf(\" \") + 1;\n            if (dt <= 0 || t[1] === sub.length)\n                dt = undefined;\n            let line = t[0].substr(0, dt);\n            buffer.push(line);\n            return (t[1] <= 0 || t[1] === sub.length) ? buffer : nextLine(sub.substr((dt || t[1])), buffer, cc + 1);\n        };\n        let lines = nextLine(txt);\n        let lsize = lines.length * lstep;\n        let lbox = box;\n        if (verticalAlign == \"middle\" || verticalAlign == \"center\") {\n            let lpad = (size[1] - lsize) / 2;\n            if (crop)\n                lpad = Math.max(0, lpad);\n            lbox = new Pt_1.Group(box[0].$add(0, lpad), box[1].$subtract(0, lpad));\n        }\n        else if (verticalAlign == \"bottom\") {\n            lbox = new Pt_1.Group(box[0].$add(0, size[1] - lsize), box[1]);\n        }\n        else {\n            lbox = new Pt_1.Group(box[0], box[0].$add(size[0], lsize));\n        }\n        let center = Op_1.Rectangle.center(lbox);\n        for (let i = 0, len = lines.length; i < len; i++) {\n            this.text(this._textAlign(lbox, \"top\", [0, i * lstep], center), lines[i]);\n        }\n        return this;\n    }\n    alignText(alignment = \"left\", baseline = \"alphabetic\") {\n        if (baseline == \"center\")\n            baseline = \"middle\";\n        if (baseline == \"baseline\")\n            baseline = \"alphabetic\";\n        this._ctx.textAlign = alignment;\n        this._ctx.textBaseline = baseline;\n        return this;\n    }\n    log(txt) {\n        let w = this._ctx.measureText(txt).width + 20;\n        this.stroke(false).fill(\"rgba(0,0,0,.4)\").rect([[0, 0], [w, 20]]);\n        this.fill(\"#fff\").text([10, 14], txt);\n        return this;\n    }\n}\nexports.CanvasForm = CanvasForm;\n\n\n/***/ }),\n\n/***/ \"./src/Color.ts\":\n/*!**********************!*\\\n  !*** ./src/Color.ts ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nclass Color extends Pt_1.Pt {\n    constructor(...args) {\n        super(...args);\n        this._mode = \"rgb\";\n        this._isNorm = false;\n    }\n    static from(...args) {\n        let p = [1, 1, 1, 1];\n        let c = Util_1.Util.getArgs(args);\n        for (let i = 0, len = p.length; i < len; i++) {\n            if (i < c.length)\n                p[i] = c[i];\n        }\n        return new Color(p);\n    }\n    static fromHex(hex) {\n        if (hex[0] == \"#\")\n            hex = hex.substr(1);\n        if (hex.length <= 3) {\n            let fn = (i) => hex[i] || \"F\";\n            hex = `${fn(0)}${fn(0)}${fn(1)}${fn(1)}${fn(2)}${fn(2)}`;\n        }\n        let alpha = 1;\n        if (hex.length === 8) {\n            alpha = hex.substr(6) && 0xFF / 255;\n            hex = hex.substring(0, 6);\n        }\n        let hexVal = parseInt(hex, 16);\n        return new Color(hexVal >> 16, hexVal >> 8 & 0xFF, hexVal & 0xFF, alpha);\n    }\n    static rgb(...args) { return Color.from(...args).toMode(\"rgb\"); }\n    static hsl(...args) { return Color.from(...args).toMode(\"hsl\"); }\n    static hsb(...args) { return Color.from(...args).toMode(\"hsb\"); }\n    static lab(...args) { return Color.from(...args).toMode(\"lab\"); }\n    static lch(...args) { return Color.from(...args).toMode(\"lch\"); }\n    static luv(...args) { return Color.from(...args).toMode(\"luv\"); }\n    static xyz(...args) { return Color.from(...args).toMode(\"xyz\"); }\n    static maxValues(mode) { return Color.ranges[mode].zipSlice(1).$take([0, 1, 2]); }\n    get hex() { return this.toString(\"hex\"); }\n    get rgb() { return this.toString(\"rgb\"); }\n    get rgba() { return this.toString(\"rgba\"); }\n    clone() {\n        let c = new Color(this);\n        c.toMode(this._mode);\n        return c;\n    }\n    toMode(mode, convert = false) {\n        if (convert) {\n            let fname = this._mode.toUpperCase() + \"to\" + mode.toUpperCase();\n            if (Color[fname]) {\n                this.to(Color[fname](this, this._isNorm, this._isNorm));\n            }\n            else {\n                throw new Error(\"Cannot convert color with \" + fname);\n            }\n        }\n        this._mode = mode;\n        return this;\n    }\n    get mode() { return this._mode; }\n    get r() { return this[0]; }\n    set r(n) { this[0] = n; }\n    get g() { return this[1]; }\n    set g(n) { this[1] = n; }\n    get b() { return this[2]; }\n    set b(n) { this[2] = n; }\n    get h() { return (this._mode == \"lch\") ? this[2] : this[0]; }\n    set h(n) {\n        let i = (this._mode == \"lch\") ? 2 : 0;\n        this[i] = n;\n    }\n    get s() { return this[1]; }\n    set s(n) { this[1] = n; }\n    get l() { return (this._mode == \"hsl\") ? this[2] : this[0]; }\n    set l(n) {\n        let i = (this._mode == \"hsl\") ? 2 : 0;\n        this[i] = n;\n    }\n    get a() { return this[1]; }\n    set a(n) { this[1] = n; }\n    get c() { return this[1]; }\n    set c(n) { this[1] = n; }\n    get u() { return this[1]; }\n    set u(n) { this[1] = n; }\n    get v() { return this[2]; }\n    set v(n) { this[2] = n; }\n    set alpha(n) { if (this.length > 3)\n        this[3] = n; }\n    get alpha() { return (this.length > 3) ? this[3] : 1; }\n    get normalized() { return this._isNorm; }\n    set normalized(b) { this._isNorm = b; }\n    normalize(toNorm = true) {\n        if (this._isNorm == toNorm)\n            return this;\n        let ranges = Color.ranges[this._mode];\n        for (let i = 0; i < 3; i++) {\n            this[i] = (!toNorm)\n                ? Num_1.Num.mapToRange(this[i], 0, 1, ranges[i][0], ranges[i][1])\n                : Num_1.Num.mapToRange(this[i], ranges[i][0], ranges[i][1], 0, 1);\n        }\n        this._isNorm = toNorm;\n        return this;\n    }\n    $normalize(toNorm = true) { return this.clone().normalize(toNorm); }\n    toString(format = \"mode\") {\n        if (format == \"hex\") {\n            let _hex = (n) => {\n                let s = Math.floor(n).toString(16);\n                return (s.length < 2) ? '0' + s : s;\n            };\n            return `#${_hex(this[0])}${_hex(this[1])}${_hex(this[2])}`;\n        }\n        else if (format == \"rgba\") {\n            return `rgba(${Math.floor(this[0])},${Math.floor(this[1])},${Math.floor(this[2])},${this.alpha}`;\n        }\n        else if (format == \"rgb\") {\n            return `rgb(${Math.floor(this[0])},${Math.floor(this[1])},${Math.floor(this[2])}`;\n        }\n        else {\n            return `${this._mode}(${this[0]},${this[1]},${this[2]},${this.alpha})`;\n        }\n    }\n    static RGBtoHSL(rgb, normalizedInput = false, normalizedOutput = false) {\n        let [r, g, b] = (!normalizedInput) ? rgb.$normalize() : rgb;\n        let max = Math.max(r, g, b);\n        let min = Math.min(r, g, b);\n        let h = (max + min) / 2;\n        let s = h;\n        let l = h;\n        if (max == min) {\n            h = 0;\n            s = 0;\n        }\n        else {\n            let d = max - min;\n            s = (l > 0.5) ? d / (2 - max - min) : d / (max + min);\n            h = 0;\n            if (max === r) {\n                h = (g - b) / d + ((g < b) ? 6 : 0);\n            }\n            else if (max === g) {\n                h = (b - r) / d + 2;\n            }\n            else if (max === b) {\n                h = (r - g) / d + 4;\n            }\n        }\n        return Color.hsl(((normalizedOutput) ? h / 60 : h * 60), s, l, rgb.alpha);\n    }\n    static HSLtoRGB(hsl, normalizedInput = false, normalizedOutput = false) {\n        let [h, s, l] = hsl;\n        if (!normalizedInput)\n            h = h / 360;\n        if (s == 0)\n            return Color.rgb(l * 255, l * 255, l * 255, hsl.alpha);\n        let q = (l <= 0.5) ? l * (1 + s) : l + s - (l * s);\n        let p = 2 * l - q;\n        let convert = (t) => {\n            t = (t < 0) ? t + 1 : (t > 1) ? t - 1 : t;\n            if (t * 6 < 1) {\n                return p + (q - p) * t * 6;\n            }\n            else if (t * 2 < 1) {\n                return q;\n            }\n            else if (t * 3 < 2) {\n                return p + (q - p) * ((2 / 3) - t) * 6;\n            }\n            else {\n                return p;\n            }\n        };\n        let sc = (normalizedOutput) ? 1 : 255;\n        return Color.rgb(sc * convert((h + 1 / 3)), sc * convert(h), sc * convert((h - 1 / 3)), hsl.alpha);\n    }\n    static RGBtoHSB(rgb, normalizedInput = false, normalizedOutput = false) {\n        let [r, g, b] = (!normalizedInput) ? rgb.$normalize() : rgb;\n        let max = Math.max(r, g, b);\n        let min = Math.min(r, g, b);\n        let d = max - min;\n        let h = 0;\n        let s = (max === 0) ? 0 : d / max;\n        let v = max;\n        if (max != min) {\n            if (max === r) {\n                h = (g - b) / d + ((g < b) ? 6 : 0);\n            }\n            else if (max === g) {\n                h = (b - r) / d + 2;\n            }\n            else if (max === b) {\n                h = (r - g) / d + 4;\n            }\n        }\n        return Color.hsb(((normalizedOutput) ? h / 60 : h * 60), s, v, rgb.alpha);\n    }\n    static HSBtoRGB(hsb, normalizedInput = false, normalizedOutput = false) {\n        let [h, s, v] = hsb;\n        if (!normalizedInput)\n            h = h / 360;\n        let i = Math.floor(h * 6);\n        let f = h * 6 - i;\n        let p = v * (1 - s);\n        let q = v * (1 - f * s);\n        let t = v * (1 - (1 - f) * s);\n        let pick = [\n            [v, t, p], [q, v, p], [p, v, t],\n            [p, q, v], [t, p, v], [v, p, q]\n        ];\n        let c = pick[i % 6];\n        let sc = (normalizedOutput) ? 1 : 255;\n        return Color.rgb(sc * c[0], sc * c[1], sc * c[2], hsb.alpha);\n    }\n    static RGBtoLAB(rgb, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? rgb.$normalize(false) : rgb;\n        return Color.XYZtoLAB(Color.RGBtoXYZ(c), false, normalizedOutput);\n    }\n    static LABtoRGB(lab, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? lab.$normalize(false) : lab;\n        return Color.XYZtoRGB(Color.LABtoXYZ(c), false, normalizedOutput);\n    }\n    static RGBtoLCH(rgb, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? rgb.$normalize(false) : rgb;\n        return Color.LABtoLCH(Color.RGBtoLAB(c), false, normalizedOutput);\n    }\n    static LCHtoRGB(lch, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? lch.$normalize(false) : lch;\n        return Color.LABtoRGB(Color.LCHtoLAB(c), false, normalizedOutput);\n    }\n    static RGBtoLUV(rgb, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? rgb.$normalize(false) : rgb;\n        return Color.XYZtoLUV(Color.RGBtoXYZ(c), false, normalizedOutput);\n    }\n    static LUVtoRGB(luv, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? luv.$normalize(false) : luv;\n        return Color.XYZtoRGB(Color.LUVtoXYZ(c), false, normalizedOutput);\n    }\n    static RGBtoXYZ(rgb, normalizedInput = false, normalizedOutput = false) {\n        let c = (!normalizedInput) ? rgb.$normalize() : rgb.clone();\n        for (let i = 0; i < 3; i++) {\n            c[i] = (c[i] > 0.04045) ? Math.pow((c[i] + 0.055) / 1.055, 2.4) : c[i] / 12.92;\n            if (!normalizedOutput)\n                c[i] = c[i] * 100;\n        }\n        let cc = Color.xyz(c[0] * 0.4124564 + c[1] * 0.3575761 + c[2] * 0.1804375, c[0] * 0.2126729 + c[1] * 0.7151522 + c[2] * 0.0721750, c[0] * 0.0193339 + c[1] * 0.1191920 + c[2] * 0.9503041, rgb.alpha);\n        return (normalizedOutput) ? cc.normalize() : cc;\n    }\n    static XYZtoRGB(xyz, normalizedInput = false, normalizedOutput = false) {\n        let [x, y, z] = (!normalizedInput) ? xyz.$normalize() : xyz;\n        let rgb = [\n            x * 3.2404542 + y * -1.5371385 + z * -0.4985314,\n            x * -0.9692660 + y * 1.8760108 + z * 0.0415560,\n            x * 0.0556434 + y * -0.2040259 + z * 1.0572252\n        ];\n        for (let i = 0; i < 3; i++) {\n            rgb[i] = (rgb[i] < 0) ? 0 : (rgb[i] > 0.0031308) ? (1.055 * Math.pow(rgb[i], 1 / 2.4) - 0.055) : (12.92 * rgb[i]);\n            rgb[i] = Math.max(0, Math.min(1, rgb[i]));\n            if (!normalizedOutput)\n                rgb[i] = Math.round(rgb[i] * 255);\n        }\n        let cc = Color.rgb(rgb[0], rgb[1], rgb[2], xyz.alpha);\n        return (normalizedOutput) ? cc.normalize() : cc;\n    }\n    static XYZtoLAB(xyz, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? xyz.$normalize(false) : xyz.clone();\n        c.divide(Color.D65);\n        let fn = (n) => (n > 0.008856) ? Math.pow(n, 1 / 3) : (7.787 * n) + 16 / 116;\n        let cy = fn(c[1]);\n        let cc = Color.lab((116 * cy) - 16, 500 * (fn(c[0]) - cy), 200 * (cy - fn(c[2])), xyz.alpha);\n        return (normalizedOutput) ? cc.normalize() : cc;\n    }\n    static LABtoXYZ(lab, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? lab.$normalize(false) : lab;\n        let y = (c[0] + 16) / 116;\n        let x = (c[1] / 500) + y;\n        let z = y - c[2] / 200;\n        let fn = (n) => {\n            let nnn = n * n * n;\n            return (nnn > 0.008856) ? nnn : (n - 16 / 116) / 7.787;\n        };\n        let d = Color.D65;\n        let cc = Color.xyz(Math.max(0, d[0] * fn(x)), Math.max(0, d[1] * fn(y)), Math.max(0, d[2] * fn(z)), lab.alpha);\n        return (normalizedOutput) ? cc.normalize() : cc;\n    }\n    static XYZtoLUV(xyz, normalizedInput = false, normalizedOutput = false) {\n        let [x, y, z] = (normalizedInput) ? xyz.$normalize(false) : xyz;\n        let u = (4 * x) / (x + (15 * y) + (3 * z));\n        let v = (9 * y) / (x + (15 * y) + (3 * z));\n        y = y / 100;\n        y = (y > 0.008856) ? Math.pow(y, 1 / 3) : (7.787 * y + 16 / 116);\n        let refU = (4 * Color.D65[0]) / (Color.D65[0] + (15 * Color.D65[1]) + (3 * Color.D65[2]));\n        let refV = (9 * Color.D65[1]) / (Color.D65[0] + (15 * Color.D65[1]) + (3 * Color.D65[2]));\n        let L = (116 * y) - 16;\n        return Color.luv(L, 13 * L * (u - refU), 13 * L * (v - refV), xyz.alpha);\n    }\n    static LUVtoXYZ(luv, normalizedInput = false, normalizedOutput = false) {\n        let [l, u, v] = (normalizedInput) ? luv.$normalize(false) : luv;\n        let y = (l + 16) / 116;\n        let cubeY = y * y * y;\n        y = (cubeY > 0.008856) ? cubeY : (y - 16 / 116) / 7.787;\n        let refU = (4 * Color.D65[0]) / (Color.D65[0] + (15 * Color.D65[1]) + (3 * Color.D65[2]));\n        let refV = (9 * Color.D65[1]) / (Color.D65[0] + (15 * Color.D65[1]) + (3 * Color.D65[2]));\n        u = u / (13 * l) + refU;\n        v = v / (13 * l) + refV;\n        y = y * 100;\n        let x = -1 * (9 * y * u) / ((u - 4) * v - u * v);\n        let z = (9 * y - (15 * v * y) - (v * x)) / (3 * v);\n        return Color.xyz(x, y, z, luv.alpha);\n    }\n    static LABtoLCH(lab, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? lab.$normalize(false) : lab;\n        let h = Num_1.Geom.toDegree(Num_1.Geom.boundRadian(Math.atan2(c[2], c[1])));\n        return Color.lch(c[0], Math.sqrt(c[1] * c[1] + c[2] * c[2]), h, lab.alpha);\n    }\n    static LCHtoLAB(lch, normalizedInput = false, normalizedOutput = false) {\n        let c = (normalizedInput) ? lch.$normalize(false) : lch;\n        let rad = Num_1.Geom.toRadian(c[2]);\n        return Color.lab(c[0], Math.cos(rad) * c[1], Math.sin(rad) * c[1], lch.alpha);\n    }\n}\nColor.D65 = new Pt_1.Pt(95.047, 100, 108.883, 1);\nColor.ranges = {\n    rgb: new Pt_1.Group(new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255)),\n    hsl: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n    hsb: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n    lab: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-128, 127), new Pt_1.Pt(-128, 127)),\n    lch: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 360)),\n    luv: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-134, 220), new Pt_1.Pt(-140, 122)),\n    xyz: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100))\n};\nexports.Color = Color;\n\n\n/***/ }),\n\n/***/ \"./src/Create.ts\":\n/*!***********************!*\\\n  !*** ./src/Create.ts ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nconst LinearAlgebra_1 = __webpack_require__(/*! ./LinearAlgebra */ \"./src/LinearAlgebra.ts\");\nclass Create {\n    static distributeRandom(bound, count, dimensions = 2) {\n        let pts = new Pt_1.Group();\n        for (let i = 0; i < count; i++) {\n            let p = [bound.x + Math.random() * bound.width];\n            if (dimensions > 1)\n                p.push(bound.y + Math.random() * bound.height);\n            if (dimensions > 2)\n                p.push(bound.z + Math.random() * bound.depth);\n            pts.push(new Pt_1.Pt(p));\n        }\n        return pts;\n    }\n    static distributeLinear(line, count) {\n        let ln = Op_1.Line.subpoints(line, count - 2);\n        ln.unshift(line[0]);\n        ln.push(line[line.length - 1]);\n        return ln;\n    }\n    static gridPts(bound, columns, rows, orientation = [0.5, 0.5]) {\n        if (columns === 0 || rows === 0)\n            throw new Error(\"grid columns and rows cannot be 0\");\n        let unit = bound.size.$subtract(1).$divide(columns, rows);\n        let offset = unit.$multiply(orientation);\n        let g = new Pt_1.Group();\n        for (let r = 0; r < rows; r++) {\n            for (let c = 0; c < columns; c++) {\n                g.push(bound.topLeft.$add(unit.$multiply(c, r)).add(offset));\n            }\n        }\n        return g;\n    }\n    static gridCells(bound, columns, rows) {\n        if (columns === 0 || rows === 0)\n            throw new Error(\"grid columns and rows cannot be 0\");\n        let unit = bound.size.$subtract(1).divide(columns, rows);\n        let g = [];\n        for (let r = 0; r < rows; r++) {\n            for (let c = 0; c < columns; c++) {\n                g.push(new Pt_1.Group(bound.topLeft.$add(unit.$multiply(c, r)), bound.topLeft.$add(unit.$multiply(c, r).add(unit))));\n            }\n        }\n        return g;\n    }\n    static radialPts(center, radius, count, angleOffset = -Util_1.Const.half_pi) {\n        let g = new Pt_1.Group();\n        let a = Util_1.Const.two_pi / count;\n        for (let i = 0; i < count; i++) {\n            g.push(new Pt_1.Pt(center).toAngle(a * i + angleOffset, radius, true));\n        }\n        return g;\n    }\n    static noisePts(pts, dx = 0.01, dy = 0.01, rows = 0, columns = 0) {\n        let seed = Math.random();\n        let g = new Pt_1.Group();\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let np = new Noise(pts[i]);\n            let r = (rows && rows > 0) ? Math.floor(i / rows) : i;\n            let c = (columns && columns > 0) ? i % columns : i;\n            np.initNoise(dx * c, dy * r);\n            np.seed(seed);\n            g.push(np);\n        }\n        return g;\n    }\n    static delaunay(pts) {\n        return Delaunay.from(pts);\n    }\n}\nexports.Create = Create;\nconst __noise_grad3 = [\n    [1, 1, 0], [-1, 1, 0], [1, -1, 0], [-1, -1, 0],\n    [1, 0, 1], [-1, 0, 1], [1, 0, -1], [-1, 0, -1],\n    [0, 1, 1], [0, -1, 1], [0, 1, -1], [0, -1, -1]\n];\nconst __noise_permTable = [151, 160, 137, 91, 90, 15,\n    131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23,\n    190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33,\n    88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166,\n    77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244,\n    102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\n    135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123,\n    5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42,\n    223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9,\n    129, 22, 39, 253, 9, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228,\n    251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\n    49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\n    138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180\n];\nclass Noise extends Pt_1.Pt {\n    constructor(...args) {\n        super(...args);\n        this.perm = [];\n        this._n = new Pt_1.Pt(0.01, 0.01);\n        this.perm = __noise_permTable.concat(__noise_permTable);\n    }\n    initNoise(...args) {\n        this._n = new Pt_1.Pt(...args);\n        return this;\n    }\n    step(x = 0, y = 0) {\n        this._n.add(x, y);\n        return this;\n    }\n    seed(s) {\n        if (s > 0 && s < 1)\n            s *= 65536;\n        s = Math.floor(s);\n        if (s < 256)\n            s |= s << 8;\n        for (let i = 0; i < 255; i++) {\n            let v = (i & 1) ? __noise_permTable[i] ^ (s & 255) : __noise_permTable[i] ^ ((s >> 8) & 255);\n            this.perm[i] = this.perm[i + 256] = v;\n        }\n        return this;\n    }\n    noise2D() {\n        let i = Math.max(0, Math.floor(this._n[0])) % 255;\n        let j = Math.max(0, Math.floor(this._n[1])) % 255;\n        let x = (this._n[0] % 255) - i;\n        let y = (this._n[1] % 255) - j;\n        let n00 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j]) % 12], [x, y, 0]);\n        let n01 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j + 1]) % 12], [x, y - 1, 0]);\n        let n10 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j]) % 12], [x - 1, y, 0]);\n        let n11 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j + 1]) % 12], [x - 1, y - 1, 0]);\n        let _fade = (f) => f * f * f * (f * (f * 6 - 15) + 10);\n        let tx = _fade(x);\n        return Num_1.Num.lerp(Num_1.Num.lerp(n00, n10, tx), Num_1.Num.lerp(n01, n11, tx), _fade(y));\n    }\n}\nexports.Noise = Noise;\nclass Delaunay extends Pt_1.Group {\n    constructor() {\n        super(...arguments);\n        this._mesh = [];\n    }\n    delaunay(triangleOnly = true) {\n        if (this.length < 3)\n            return [];\n        this._mesh = [];\n        let n = this.length;\n        let indices = [];\n        for (let i = 0; i < n; i++)\n            indices[i] = i;\n        indices.sort((i, j) => this[j][0] - this[i][0]);\n        let pts = this.slice();\n        let st = this._superTriangle();\n        pts = pts.concat(st);\n        let opened = [this._circum(n, n + 1, n + 2, st)];\n        let closed = [];\n        let tris = [];\n        for (let i = 0, len = indices.length; i < len; i++) {\n            let c = indices[i];\n            let edges = [];\n            let j = opened.length;\n            if (!this._mesh[c])\n                this._mesh[c] = {};\n            while (j--) {\n                let circum = opened[j];\n                let radius = circum.circle[1][0];\n                let d = pts[c].$subtract(circum.circle[0]);\n                if (d[0] > 0 && d[0] * d[0] > radius * radius) {\n                    closed.push(circum);\n                    tris.push(circum.triangle);\n                    opened.splice(j, 1);\n                    continue;\n                }\n                if (d[0] * d[0] + d[1] * d[1] - radius * radius > Util_1.Const.epsilon) {\n                    continue;\n                }\n                edges.push(circum.i, circum.j, circum.j, circum.k, circum.k, circum.i);\n                opened.splice(j, 1);\n            }\n            Delaunay._dedupe(edges);\n            j = edges.length;\n            while (j > 1) {\n                opened.push(this._circum(edges[--j], edges[--j], c, false, pts));\n            }\n        }\n        for (let i = 0, len = opened.length; i < len; i++) {\n            let o = opened[i];\n            if (o.i < n && o.j < n && o.k < n) {\n                closed.push(o);\n                tris.push(o.triangle);\n                this._cache(o);\n            }\n        }\n        return (triangleOnly) ? tris : closed;\n    }\n    voronoi() {\n        let vs = [];\n        let n = this._mesh;\n        for (let i = 0, len = n.length; i < len; i++) {\n            vs.push(this.neighborPts(i, true));\n        }\n        return vs;\n    }\n    mesh() {\n        return this._mesh;\n    }\n    neighborPts(i, sort = false) {\n        let cs = new Pt_1.Group();\n        let n = this._mesh;\n        for (let k in n[i]) {\n            if (n[i].hasOwnProperty(k))\n                cs.push(n[i][k].circle[0]);\n        }\n        return (sort) ? Num_1.Geom.sortEdges(cs) : cs;\n    }\n    neighbors(i) {\n        let cs = [];\n        let n = this._mesh;\n        for (let k in n[i]) {\n            if (n[i].hasOwnProperty(k))\n                cs.push(n[i][k]);\n        }\n        return cs;\n    }\n    _cache(o) {\n        this._mesh[o.i][`${Math.min(o.j, o.k)}-${Math.max(o.j, o.k)}`] = o;\n        this._mesh[o.j][`${Math.min(o.i, o.k)}-${Math.max(o.i, o.k)}`] = o;\n        this._mesh[o.k][`${Math.min(o.i, o.j)}-${Math.max(o.i, o.j)}`] = o;\n    }\n    _superTriangle() {\n        let minPt = this[0];\n        let maxPt = this[0];\n        for (let i = 1, len = this.length; i < len; i++) {\n            minPt = minPt.$min(this[i]);\n            maxPt = maxPt.$max(this[i]);\n        }\n        let d = maxPt.$subtract(minPt);\n        let mid = minPt.$add(maxPt).divide(2);\n        let dmax = Math.max(d[0], d[1]);\n        return new Pt_1.Group(mid.$subtract(20 * dmax, dmax), mid.$add(0, 20 * dmax), mid.$add(20 * dmax, -dmax));\n    }\n    _triangle(i, j, k, pts = this) {\n        return new Pt_1.Group(pts[i], pts[j], pts[k]);\n    }\n    _circum(i, j, k, tri, pts = this) {\n        let t = tri || this._triangle(i, j, k, pts);\n        return {\n            i: i,\n            j: j,\n            k: k,\n            triangle: t,\n            circle: Op_1.Triangle.circumcircle(t)\n        };\n    }\n    static _dedupe(edges) {\n        let j = edges.length;\n        while (j > 1) {\n            let b = edges[--j];\n            let a = edges[--j];\n            let i = j;\n            while (i > 1) {\n                let n = edges[--i];\n                let m = edges[--i];\n                if ((a == m && b == n) || (a == n && b == m)) {\n                    edges.splice(j, 2);\n                    edges.splice(i, 2);\n                    break;\n                }\n            }\n        }\n        return edges;\n    }\n}\nexports.Delaunay = Delaunay;\n\n\n/***/ }),\n\n/***/ \"./src/Dom.ts\":\n/*!********************!*\\\n  !*** ./src/Dom.ts ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Space_1 = __webpack_require__(/*! ./Space */ \"./src/Space.ts\");\nconst Form_1 = __webpack_require__(/*! ./Form */ \"./src/Form.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nclass DOMSpace extends Space_1.MultiTouchSpace {\n    constructor(elem, callback) {\n        super();\n        this.id = \"domspace\";\n        this._autoResize = true;\n        this._bgcolor = \"#e1e9f0\";\n        this._css = {};\n        var _selector = null;\n        var _existed = false;\n        this.id = \"pts\";\n        if (elem instanceof Element) {\n            _selector = elem;\n            this.id = \"pts_existing_space\";\n        }\n        else {\n            _selector = document.querySelector(elem);\n            _existed = true;\n            this.id = elem.substr(1);\n        }\n        if (!_selector) {\n            this._container = DOMSpace.createElement(\"div\", \"pts_container\");\n            this._canvas = DOMSpace.createElement(\"div\", \"pts_element\");\n            this._container.appendChild(this._canvas);\n            document.body.appendChild(this._container);\n            _existed = false;\n        }\n        else {\n            this._canvas = _selector;\n            this._container = _selector.parentElement;\n        }\n        setTimeout(this._ready.bind(this, callback), 50);\n    }\n    static createElement(elem = \"div\", id, appendTo) {\n        let d = document.createElement(elem);\n        if (id)\n            d.setAttribute(\"id\", id);\n        if (appendTo && appendTo.appendChild)\n            appendTo.appendChild(d);\n        return d;\n    }\n    _ready(callback) {\n        if (!this._container)\n            throw new Error(`Cannot initiate #${this.id} element`);\n        this._isReady = true;\n        this._resizeHandler(null);\n        this.clear(this._bgcolor);\n        this._canvas.dispatchEvent(new Event(\"ready\"));\n        for (let k in this.players) {\n            if (this.players.hasOwnProperty(k)) {\n                if (this.players[k].start)\n                    this.players[k].start(this.bound.clone(), this);\n            }\n        }\n        this._pointer = this.center;\n        this.refresh(false);\n        if (callback)\n            callback(this.bound, this._canvas);\n    }\n    setup(opt) {\n        if (opt.bgcolor) {\n            this._bgcolor = opt.bgcolor;\n        }\n        this.autoResize = (opt.resize != undefined) ? opt.resize : false;\n        return this;\n    }\n    getForm() {\n        return null;\n    }\n    set autoResize(auto) {\n        this._autoResize = auto;\n        if (auto) {\n            window.addEventListener('resize', this._resizeHandler.bind(this));\n        }\n        else {\n            delete this._css['width'];\n            delete this._css['height'];\n            window.removeEventListener('resize', this._resizeHandler.bind(this));\n        }\n    }\n    get autoResize() { return this._autoResize; }\n    resize(b, evt) {\n        this.bound = b;\n        this.styles({ width: `${b.width}px`, height: `${b.height}px` }, true);\n        for (let k in this.players) {\n            if (this.players.hasOwnProperty(k)) {\n                let p = this.players[k];\n                if (p.resize)\n                    p.resize(this.bound, evt);\n            }\n        }\n        return this;\n    }\n    _resizeHandler(evt) {\n        let b = Pt_1.Bound.fromBoundingRect(this._container.getBoundingClientRect());\n        if (this._autoResize) {\n            this.styles({ width: \"100%\", height: \"100%\" }, true);\n        }\n        else {\n            this.styles({ width: `${b.width}px`, height: `${b.height}px` }, true);\n        }\n        this.resize(b, evt);\n    }\n    get element() {\n        return this._canvas;\n    }\n    get parent() {\n        return this._container;\n    }\n    get ready() { return this._isReady; }\n    clear(bg) {\n        if (bg)\n            this.background = bg;\n        this._canvas.innerHTML = \"\";\n        return this;\n    }\n    set background(bg) {\n        this._bgcolor = bg;\n        this._container.style.backgroundColor = this._bgcolor;\n    }\n    get background() { return this._bgcolor; }\n    style(key, val, update = false) {\n        this._css[key] = val;\n        if (update)\n            this._canvas.style[key] = val;\n        return this;\n    }\n    styles(styles, update = false) {\n        for (let k in styles) {\n            if (styles.hasOwnProperty(k))\n                this.style(k, styles[k], update);\n        }\n        return this;\n    }\n    static setAttr(elem, data) {\n        for (let k in data) {\n            if (data.hasOwnProperty(k)) {\n                elem.setAttribute(k, data[k]);\n            }\n        }\n        return elem;\n    }\n    static getInlineStyles(data) {\n        let str = \"\";\n        for (let k in data) {\n            if (data.hasOwnProperty(k)) {\n                if (data[k])\n                    str += `${k}: ${data[k]}; `;\n            }\n        }\n        return str;\n    }\n}\nexports.DOMSpace = DOMSpace;\nclass HTMLSpace extends DOMSpace {\n    getForm() {\n        return new HTMLForm(this);\n    }\n    static htmlElement(parent, name, id, autoClass = true) {\n        if (!parent || !parent.appendChild)\n            throw new Error(\"parent is not a valid DOM element\");\n        let elem = document.querySelector(`#${id}`);\n        if (!elem) {\n            elem = document.createElement(name);\n            elem.setAttribute(\"id\", id);\n            if (autoClass)\n                elem.setAttribute(\"class\", id.substring(0, id.indexOf(\"-\")));\n            parent.appendChild(elem);\n        }\n        return elem;\n    }\n    remove(player) {\n        let temp = this._container.querySelectorAll(\".\" + HTMLForm.scopeID(player));\n        temp.forEach((el) => {\n            el.parentNode.removeChild(el);\n        });\n        return super.remove(player);\n    }\n    removeAll() {\n        this._container.innerHTML = \"\";\n        return super.removeAll();\n    }\n}\nexports.HTMLSpace = HTMLSpace;\nclass HTMLForm extends Form_1.VisualForm {\n    constructor(space) {\n        super();\n        this._style = {\n            \"filled\": true,\n            \"stroked\": true,\n            \"background\": \"#f03\",\n            \"border-color\": \"#fff\",\n            \"color\": \"#000\",\n            \"border-width\": \"1px\",\n            \"border-radius\": \"0\",\n            \"border-style\": \"solid\",\n            \"opacity\": 1,\n            \"position\": \"absolute\",\n            \"top\": 0,\n            \"left\": 0,\n            \"width\": 0,\n            \"height\": 0\n        };\n        this._ctx = {\n            group: null,\n            groupID: \"pts\",\n            groupCount: 0,\n            currentID: \"pts0\",\n            currentClass: \"\",\n            style: {},\n        };\n        this._ready = false;\n        this._space = space;\n        this._space.add({ start: () => {\n                this._ctx.group = this._space.element;\n                this._ctx.groupID = \"pts_dom_\" + (HTMLForm.groupID++);\n                this._ctx.style = Object.assign({}, this._style);\n                this._ready = true;\n            } });\n    }\n    get space() { return this._space; }\n    styleTo(k, v, unit = '') {\n        if (this._ctx.style[k] === undefined)\n            throw new Error(`${k} style property doesn't exist`);\n        this._ctx.style[k] = `${v}${unit}`;\n    }\n    alpha(a) {\n        this.styleTo(\"opacity\", a);\n        return this;\n    }\n    fill(c) {\n        if (typeof c == \"boolean\") {\n            this.styleTo(\"filled\", c);\n            if (!c)\n                this.styleTo(\"background\", \"transparent\");\n        }\n        else {\n            this.styleTo(\"filled\", true);\n            this.styleTo(\"background\", c);\n        }\n        return this;\n    }\n    stroke(c, width, linejoin, linecap) {\n        if (typeof c == \"boolean\") {\n            this.styleTo(\"stroked\", c);\n            if (!c)\n                this.styleTo(\"border-width\", 0);\n        }\n        else {\n            this.styleTo(\"stroked\", true);\n            this.styleTo(\"border-color\", c);\n            this.styleTo(\"border-width\", (width || 1) + \"px\");\n        }\n        return this;\n    }\n    fillText(c) {\n        this.styleTo(\"color\", c);\n        return this;\n    }\n    cls(c) {\n        if (typeof c == \"boolean\") {\n            this._ctx.currentClass = \"\";\n        }\n        else {\n            this._ctx.currentClass = c;\n        }\n        return this;\n    }\n    font(sizeOrFont, weight, style, lineHeight, family) {\n        if (typeof sizeOrFont == \"number\") {\n            this._font.size = sizeOrFont;\n            if (family)\n                this._font.face = family;\n            if (weight)\n                this._font.weight = weight;\n            if (style)\n                this._font.style = style;\n            if (lineHeight)\n                this._font.lineHeight = lineHeight;\n        }\n        else {\n            this._font = sizeOrFont;\n        }\n        this._ctx.style['font'] = this._font.value;\n        return this;\n    }\n    reset() {\n        this._ctx.style = Object.assign({}, this._style);\n        this._font = new Form_1.Font(10, \"sans-serif\");\n        this._ctx.style['font'] = this._font.value;\n        return this;\n    }\n    updateScope(group_id, group) {\n        this._ctx.group = group;\n        this._ctx.groupID = group_id;\n        this._ctx.groupCount = 0;\n        this.nextID();\n        return this._ctx;\n    }\n    scope(item) {\n        if (!item || item.animateID == null)\n            throw new Error(\"item not defined or not yet added to Space\");\n        return this.updateScope(HTMLForm.scopeID(item), this.space.element);\n    }\n    nextID() {\n        this._ctx.groupCount++;\n        this._ctx.currentID = `${this._ctx.groupID}-${this._ctx.groupCount}`;\n        return this._ctx.currentID;\n    }\n    static getID(ctx) {\n        return ctx.currentID || `p-${HTMLForm.domID++}`;\n    }\n    static scopeID(item) {\n        return `item-${item.animateID}`;\n    }\n    static style(elem, styles) {\n        let st = [];\n        if (!styles[\"filled\"])\n            st.push(\"background: none\");\n        if (!styles[\"stroked\"])\n            st.push(\"border: none\");\n        for (let k in styles) {\n            if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                let v = styles[k];\n                if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('background') === 0) {\n                        continue;\n                    }\n                    else if (!styles[\"stroked\"] && k.indexOf('border-width') === 0) {\n                        continue;\n                    }\n                    else {\n                        st.push(`${k}: ${v}`);\n                    }\n                }\n            }\n        }\n        return HTMLSpace.setAttr(elem, { style: st.join(\";\") });\n    }\n    static rectStyle(ctx, pt, size) {\n        ctx.style[\"left\"] = pt[0] + \"px\";\n        ctx.style[\"top\"] = pt[1] + \"px\";\n        ctx.style[\"width\"] = size[0] + \"px\";\n        ctx.style[\"height\"] = size[1] + \"px\";\n        return ctx;\n    }\n    static textStyle(ctx, pt) {\n        ctx.style[\"left\"] = pt[0] + \"px\";\n        ctx.style[\"top\"] = pt[1] + \"px\";\n        return ctx;\n    }\n    static point(ctx, pt, radius = 5, shape = \"square\") {\n        if (shape === \"circle\") {\n            return HTMLForm.circle(ctx, pt, radius);\n        }\n        else {\n            return HTMLForm.square(ctx, pt, radius);\n        }\n    }\n    point(pt, radius = 5, shape = \"square\") {\n        this.nextID();\n        if (shape == \"circle\")\n            this.styleTo(\"border-radius\", \"100%\");\n        HTMLForm.point(this._ctx, pt, radius, shape);\n        return this;\n    }\n    static circle(ctx, pt, radius = 10) {\n        let elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n        HTMLSpace.setAttr(elem, { class: `pts-form pts-circle ${ctx.currentClass}` });\n        HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(radius), new Pt_1.Pt(radius * 2, radius * 2));\n        HTMLForm.style(elem, ctx.style);\n        return elem;\n    }\n    circle(pts) {\n        this.nextID();\n        this.styleTo(\"border-radius\", \"100%\");\n        HTMLForm.circle(this._ctx, pts[0], pts[1][0]);\n        return this;\n    }\n    static square(ctx, pt, halfsize) {\n        let elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n        HTMLSpace.setAttr(elem, { class: `pts-form pts-square ${ctx.currentClass}` });\n        HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(halfsize), new Pt_1.Pt(halfsize * 2, halfsize * 2));\n        HTMLForm.style(elem, ctx.style);\n        return elem;\n    }\n    square(pt, halfsize) {\n        this.nextID();\n        HTMLForm.square(this._ctx, pt, halfsize);\n        return this;\n    }\n    static rect(ctx, pts) {\n        if (!this._checkSize(pts))\n            return;\n        let elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n        HTMLSpace.setAttr(elem, { class: `pts-form pts-rect ${ctx.currentClass}` });\n        HTMLForm.rectStyle(ctx, pts[0], pts[1]);\n        HTMLForm.style(elem, ctx.style);\n        return elem;\n    }\n    rect(pts) {\n        this.nextID();\n        this.styleTo(\"border-radius\", \"0\");\n        HTMLForm.rect(this._ctx, pts);\n        return this;\n    }\n    static text(ctx, pt, txt) {\n        let elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n        HTMLSpace.setAttr(elem, { class: `pts-form pts-text ${ctx.currentClass}` });\n        elem.textContent = txt;\n        HTMLForm.textStyle(ctx, pt);\n        HTMLForm.style(elem, ctx.style);\n        return elem;\n    }\n    text(pt, txt) {\n        this.nextID();\n        HTMLForm.text(this._ctx, pt, txt);\n        return this;\n    }\n    log(txt) {\n        this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n        return this;\n    }\n    arc(pt, radius, startAngle, endAngle, cc) {\n        Util_1.Util.warn(\"arc is not implemented in HTMLForm\");\n        return this;\n    }\n    line(pts) {\n        Util_1.Util.warn(\"line is not implemented in HTMLForm\");\n        return this;\n    }\n    polygon(pts) {\n        Util_1.Util.warn(\"polygon is not implemented in HTMLForm\");\n        return this;\n    }\n}\nHTMLForm.groupID = 0;\nHTMLForm.domID = 0;\nexports.HTMLForm = HTMLForm;\n\n\n/***/ }),\n\n/***/ \"./src/Form.ts\":\n/*!*********************!*\\\n  !*** ./src/Form.ts ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nclass Form {\n    constructor() {\n        this._ready = false;\n    }\n    get ready() { return this._ready; }\n    static _checkSize(pts, required = 2) {\n        if (pts.length < required) {\n            Util_1.Util.warn(\"Requires 2 or more Pts in this Group.\");\n            return false;\n        }\n        return true;\n    }\n}\nexports.Form = Form;\nclass VisualForm extends Form {\n    constructor() {\n        super(...arguments);\n        this._filled = true;\n        this._stroked = true;\n        this._font = new Font(14, \"sans-serif\");\n    }\n    get filled() { return this._filled; }\n    set filled(b) { this._filled = b; }\n    get stroked() { return this._stroked; }\n    set stroked(b) { this._stroked = b; }\n    get currentFont() { return this._font; }\n    _multiple(groups, shape, ...rest) {\n        if (!groups)\n            return this;\n        for (let i = 0, len = groups.length; i < len; i++) {\n            this[shape](groups[i], ...rest);\n        }\n        return this;\n    }\n    alpha(a) {\n        return this;\n    }\n    fill(c) {\n        return this;\n    }\n    fillOnly(c) {\n        this.stroke(false);\n        return this.fill(c);\n    }\n    stroke(c, width, linejoin, linecap) {\n        return this;\n    }\n    strokeOnly(c, width, linejoin, linecap) {\n        this.fill(false);\n        return this.stroke(c, width, linejoin, linecap);\n    }\n    points(pts, radius, shape) {\n        if (!pts)\n            return;\n        for (let i = 0, len = pts.length; i < len; i++) {\n            this.point(pts[i], radius, shape);\n        }\n        return this;\n    }\n    circles(groups) {\n        return this._multiple(groups, \"circle\");\n    }\n    squares(groups) {\n        return this._multiple(groups, \"square\");\n    }\n    lines(groups) {\n        return this._multiple(groups, \"line\");\n    }\n    polygons(groups) {\n        return this._multiple(groups, \"polygon\");\n    }\n    rects(groups) {\n        return this._multiple(groups, \"rect\");\n    }\n}\nexports.VisualForm = VisualForm;\nclass Font {\n    constructor(size = 12, face = \"sans-serif\", weight = \"\", style = \"\", lineHeight = 1.5) {\n        this.size = size;\n        this.face = face;\n        this.style = style;\n        this.weight = weight;\n        this.lineHeight = lineHeight;\n    }\n    get value() { return `${this.style} ${this.weight} ${this.size}px/${this.lineHeight} ${this.face}`; }\n    toString() { return this.value; }\n}\nexports.Font = Font;\n\n\n/***/ }),\n\n/***/ \"./src/LinearAlgebra.ts\":\n/*!******************************!*\\\n  !*** ./src/LinearAlgebra.ts ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nclass Vec {\n    static add(a, b) {\n        if (typeof b == \"number\") {\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] += b;\n        }\n        else {\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] += b[i] || 0;\n        }\n        return a;\n    }\n    static subtract(a, b) {\n        if (typeof b == \"number\") {\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] -= b;\n        }\n        else {\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] -= b[i] || 0;\n        }\n        return a;\n    }\n    static multiply(a, b) {\n        if (typeof b == \"number\") {\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] *= b;\n        }\n        else {\n            if (a.length != b.length) {\n                throw new Error(`Cannot do element-wise multiply since the array lengths don't match: ${a.toString()} multiply-with ${b.toString()}`);\n            }\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] *= b[i];\n        }\n        return a;\n    }\n    static divide(a, b) {\n        if (typeof b == \"number\") {\n            if (b === 0)\n                throw new Error(\"Cannot divide by zero\");\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] /= b;\n        }\n        else {\n            if (a.length != b.length) {\n                throw new Error(`Cannot do element-wise divide since the array lengths don't match. ${a.toString()} divide-by ${b.toString()}`);\n            }\n            for (let i = 0, len = a.length; i < len; i++)\n                a[i] /= b[i];\n        }\n        return a;\n    }\n    static dot(a, b) {\n        if (a.length != b.length)\n            throw new Error(\"Array lengths don't match\");\n        let d = 0;\n        for (let i = 0, len = a.length; i < len; i++) {\n            d += a[i] * b[i];\n        }\n        return d;\n    }\n    static cross2D(a, b) {\n        return a[0] * b[1] - a[1] * b[0];\n    }\n    static cross(a, b) {\n        return new Pt_1.Pt((a[1] * b[2] - a[2] * b[1]), (a[2] * b[0] - a[0] * b[2]), (a[0] * b[1] - a[1] * b[0]));\n    }\n    static magnitude(a) {\n        return Math.sqrt(Vec.dot(a, a));\n    }\n    static unit(a, magnitude = undefined) {\n        let m = (magnitude === undefined) ? Vec.magnitude(a) : magnitude;\n        if (m === 0)\n            return Pt_1.Pt.make(a.length);\n        return Vec.divide(a, m);\n    }\n    static abs(a) {\n        return Vec.map(a, Math.abs);\n    }\n    static floor(a) {\n        return Vec.map(a, Math.floor);\n    }\n    static ceil(a) {\n        return Vec.map(a, Math.ceil);\n    }\n    static round(a) {\n        return Vec.map(a, Math.round);\n    }\n    static max(a) {\n        let m = Number.MIN_VALUE;\n        let index = 0;\n        for (let i = 0, len = a.length; i < len; i++) {\n            m = Math.max(m, a[i]);\n            if (m === a[i])\n                index = i;\n        }\n        return { value: m, index: index };\n    }\n    static min(a) {\n        let m = Number.MAX_VALUE;\n        let index = 0;\n        for (let i = 0, len = a.length; i < len; i++) {\n            m = Math.min(m, a[i]);\n            if (m === a[i])\n                index = i;\n        }\n        return { value: m, index: index };\n    }\n    static sum(a) {\n        let s = 0;\n        for (let i = 0, len = a.length; i < len; i++)\n            s += a[i];\n        return s;\n    }\n    static map(a, fn) {\n        for (let i = 0, len = a.length; i < len; i++) {\n            a[i] = fn(a[i], i, a);\n        }\n        return a;\n    }\n}\nexports.Vec = Vec;\nclass Mat {\n    static add(a, b) {\n        if (typeof b != \"number\") {\n            if (a[0].length != b[0].length)\n                throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n            if (a.length != b.length)\n                throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n        }\n        let g = new Pt_1.Group();\n        let isNum = typeof b == \"number\";\n        for (let i = 0, len = a.length; i < len; i++) {\n            g.push(a[i].$add((isNum) ? b : b[i]));\n        }\n        return g;\n    }\n    static multiply(a, b, transposed = false, elementwise = false) {\n        let g = new Pt_1.Group();\n        if (typeof b != \"number\") {\n            if (elementwise) {\n                if (a.length != b.length)\n                    throw new Error(\"Cannot multiply matrix element-wise because the matrices' sizes don't match.\");\n                for (let ai = 0, alen = a.length; ai < alen; ai++) {\n                    g.push(a[ai].$multiply(b[ai]));\n                }\n            }\n            else {\n                if (!transposed && a[0].length != b.length)\n                    throw new Error(\"Cannot multiply matrix if rows in matrix-a don't match columns in matrix-b.\");\n                if (transposed && a[0].length != b[0].length)\n                    throw new Error(\"Cannot multiply matrix if transposed and the columns in both matrices don't match.\");\n                if (!transposed)\n                    b = Mat.transpose(b);\n                for (let ai = 0, alen = a.length; ai < alen; ai++) {\n                    let p = Pt_1.Pt.make(b.length, 0);\n                    for (let bi = 0, blen = b.length; bi < blen; bi++) {\n                        p[bi] = Vec.dot(a[ai], b[bi]);\n                    }\n                    g.push(p);\n                }\n            }\n        }\n        else {\n            for (let ai = 0, alen = a.length; ai < alen; ai++) {\n                g.push(a[ai].$multiply(b));\n            }\n        }\n        return g;\n    }\n    static zipSlice(g, index, defaultValue = false) {\n        let z = [];\n        for (let i = 0, len = g.length; i < len; i++) {\n            if (g[i].length - 1 < index && defaultValue === false)\n                throw `Index ${index} is out of bounds`;\n            z.push(g[i][index] || defaultValue);\n        }\n        return new Pt_1.Pt(z);\n    }\n    static zip(g, defaultValue = false, useLongest = false) {\n        let ps = new Pt_1.Group();\n        let len = (useLongest) ? g.reduce((a, b) => Math.max(a, b.length), 0) : g[0].length;\n        for (let i = 0; i < len; i++) {\n            ps.push(Mat.zipSlice(g, i, defaultValue));\n        }\n        return ps;\n    }\n    static transpose(g, defaultValue = false, useLongest = false) {\n        return Mat.zip(g, defaultValue, useLongest);\n    }\n    static transform2D(pt, m) {\n        let x = pt[0] * m[0][0] + pt[1] * m[1][0] + m[2][0];\n        let y = pt[0] * m[0][1] + pt[1] * m[1][1] + m[2][1];\n        return new Pt_1.Pt(x, y);\n    }\n    static scale2DMatrix(x, y) {\n        return new Pt_1.Group(new Pt_1.Pt(x, 0, 0), new Pt_1.Pt(0, y, 0), new Pt_1.Pt(0, 0, 1));\n    }\n    static rotate2DMatrix(cosA, sinA) {\n        return new Pt_1.Group(new Pt_1.Pt(cosA, sinA, 0), new Pt_1.Pt(-sinA, cosA, 0), new Pt_1.Pt(0, 0, 1));\n    }\n    static shear2DMatrix(tanX, tanY) {\n        return new Pt_1.Group(new Pt_1.Pt(1, tanX, 0), new Pt_1.Pt(tanY, 1, 0), new Pt_1.Pt(0, 0, 1));\n    }\n    static translate2DMatrix(x, y) {\n        return new Pt_1.Group(new Pt_1.Pt(1, 0, 0), new Pt_1.Pt(0, 1, 0), new Pt_1.Pt(x, y, 1));\n    }\n    static scaleAt2DMatrix(sx, sy, at) {\n        let m = Mat.scale2DMatrix(sx, sy);\n        m[2][0] = -at[0] * sx + at[0];\n        m[2][1] = -at[1] * sy + at[1];\n        return m;\n    }\n    static rotateAt2DMatrix(cosA, sinA, at) {\n        let m = Mat.rotate2DMatrix(cosA, sinA);\n        m[2][0] = at[0] * (1 - cosA) + at[1] * sinA;\n        m[2][1] = at[1] * (1 - cosA) - at[0] * sinA;\n        return m;\n    }\n    static shearAt2DMatrix(tanX, tanY, at) {\n        let m = Mat.shear2DMatrix(tanX, tanY);\n        m[2][0] = -at[1] * tanY;\n        m[2][1] = -at[0] * tanX;\n        return m;\n    }\n    static reflectAt2DMatrix(p1, p2) {\n        let intercept = Op_1.Line.intercept(p1, p2);\n        if (intercept == undefined) {\n            return [\n                new Pt_1.Pt([-1, 0, 0]),\n                new Pt_1.Pt([0, 1, 0]),\n                new Pt_1.Pt([p1[0] + p2[0], 0, 1])\n            ];\n        }\n        else {\n            let yi = intercept.yi;\n            let ang2 = Math.atan(intercept.slope) * 2;\n            let cosA = Math.cos(ang2);\n            let sinA = Math.sin(ang2);\n            return [\n                new Pt_1.Pt([cosA, sinA, 0]),\n                new Pt_1.Pt([sinA, -cosA, 0]),\n                new Pt_1.Pt([-yi * sinA, yi + yi * cosA, 1])\n            ];\n        }\n    }\n}\nexports.Mat = Mat;\n\n\n/***/ }),\n\n/***/ \"./src/Num.ts\":\n/*!********************!*\\\n  !*** ./src/Num.ts ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst LinearAlgebra_1 = __webpack_require__(/*! ./LinearAlgebra */ \"./src/LinearAlgebra.ts\");\nclass Num {\n    static equals(a, b, threshold = 0.00001) {\n        return Math.abs(a - b) < threshold;\n    }\n    static lerp(a, b, t) {\n        return (1 - t) * a + t * b;\n    }\n    static clamp(val, min, max) {\n        return Math.max(min, Math.min(max, val));\n    }\n    static boundValue(val, min, max) {\n        let len = Math.abs(max - min);\n        let a = val % len;\n        if (a > max)\n            a -= len;\n        else if (a < min)\n            a += len;\n        return a;\n    }\n    static within(p, a, b) {\n        return p >= Math.min(a, b) && p <= Math.max(a, b);\n    }\n    static randomRange(a, b = 0) {\n        let r = (a > b) ? (a - b) : (b - a);\n        return a + Math.random() * r;\n    }\n    static normalizeValue(n, a, b) {\n        let min = Math.min(a, b);\n        let max = Math.max(a, b);\n        return (n - min) / (max - min);\n    }\n    static sum(pts) {\n        let c = new Pt_1.Pt(pts[0]);\n        for (let i = 1, len = pts.length; i < len; i++) {\n            LinearAlgebra_1.Vec.add(c, pts[i]);\n        }\n        return c;\n    }\n    static average(pts) {\n        return Num.sum(pts).divide(pts.length);\n    }\n    static cycle(t, method = Shaping.sineInOut) {\n        return method(t > 0.5 ? 2 - t * 2 : t * 2);\n    }\n    static mapToRange(n, currA, currB, targetA, targetB) {\n        if (currA == currB)\n            throw new Error(\"[currMin, currMax] must define a range that is not zero\");\n        let min = Math.min(targetA, targetB);\n        let max = Math.max(targetA, targetB);\n        return Num.normalizeValue(n, currA, currB) * (max - min) + min;\n    }\n}\nexports.Num = Num;\nclass Geom {\n    static boundAngle(angle) {\n        return Num.boundValue(angle, 0, 360);\n    }\n    static boundRadian(radian) {\n        return Num.boundValue(radian, 0, Util_1.Const.two_pi);\n    }\n    static toRadian(angle) {\n        return angle * Util_1.Const.deg_to_rad;\n    }\n    static toDegree(radian) {\n        return radian * Util_1.Const.rad_to_deg;\n    }\n    static boundingBox(pts) {\n        let minPt = pts.reduce((a, p) => a.$min(p));\n        let maxPt = pts.reduce((a, p) => a.$max(p));\n        return new Pt_1.Group(minPt, maxPt);\n    }\n    static centroid(pts) {\n        return Num.average(pts);\n    }\n    static anchor(pts, ptOrIndex = 0, direction = \"to\") {\n        let method = (direction == \"to\") ? \"subtract\" : \"add\";\n        for (let i = 0, len = pts.length; i < len; i++) {\n            if (typeof ptOrIndex == \"number\") {\n                if (ptOrIndex !== i)\n                    pts[i][method](pts[ptOrIndex]);\n            }\n            else {\n                pts[i][method](ptOrIndex);\n            }\n        }\n    }\n    static interpolate(a, b, t = 0.5) {\n        let len = Math.min(a.length, b.length);\n        let d = Pt_1.Pt.make(len);\n        for (let i = 0; i < len; i++) {\n            d[i] = a[i] * (1 - t) + b[i] * t;\n        }\n        return d;\n    }\n    static perpendicular(pt, axis = Util_1.Const.xy) {\n        let y = axis[1];\n        let x = axis[0];\n        let p = new Pt_1.Pt(pt);\n        let pa = new Pt_1.Pt(p);\n        pa[x] = -p[y];\n        pa[y] = p[x];\n        let pb = new Pt_1.Pt(p);\n        pb[x] = p[y];\n        pb[y] = -p[x];\n        return new Pt_1.Group(pa, pb);\n    }\n    static isPerpendicular(p1, p2) {\n        return new Pt_1.Pt(p1).dot(p2) === 0;\n    }\n    static withinBound(pt, boundPt1, boundPt2) {\n        for (let i = 0, len = Math.min(pt.length, boundPt1.length, boundPt2.length); i < len; i++) {\n            if (!Num.within(pt[i], boundPt1[i], boundPt2[i]))\n                return false;\n        }\n        return true;\n    }\n    static sortEdges(pts) {\n        let bounds = Geom.boundingBox(pts);\n        let center = bounds[1].add(bounds[0]).divide(2);\n        let fn = (a, b) => {\n            if (a.length < 2 || b.length < 2)\n                throw new Error(\"Pt dimension cannot be less than 2\");\n            let da = a.$subtract(center);\n            let db = b.$subtract(center);\n            if (da[0] >= 0 && db[0] < 0)\n                return 1;\n            if (da[0] < 0 && db[0] >= 0)\n                return -1;\n            if (da[0] == 0 && db[0] == 0) {\n                if (da[1] >= 0 || db[1] >= 0)\n                    return (da[1] > db[1]) ? 1 : -1;\n                return (db[1] > da[1]) ? 1 : -1;\n            }\n            let det = da.$cross2D(db);\n            if (det < 0)\n                return 1;\n            if (det > 0)\n                return -1;\n            return (da[0] * da[0] + da[1] * da[1] > db[0] * db[0] + db[1] * db[1]) ? 1 : -1;\n        };\n        return pts.sort(fn);\n    }\n    static scale(ps, scale, anchor) {\n        let pts = (!Array.isArray(ps)) ? [ps] : ps;\n        let scs = (typeof scale == \"number\") ? Pt_1.Pt.make(pts[0].length, scale) : scale;\n        if (!anchor)\n            anchor = Pt_1.Pt.make(pts[0].length, 0);\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let p = pts[i];\n            for (let k = 0, lenP = p.length; k < lenP; k++) {\n                p[k] = (anchor && anchor[k]) ? anchor[k] + (p[k] - anchor[k]) * scs[k] : p[k] * scs[k];\n            }\n        }\n        return Geom;\n    }\n    static rotate2D(ps, angle, anchor, axis) {\n        let pts = (!Array.isArray(ps)) ? [ps] : ps;\n        let fn = (anchor) ? LinearAlgebra_1.Mat.rotateAt2DMatrix : LinearAlgebra_1.Mat.rotate2DMatrix;\n        if (!anchor)\n            anchor = Pt_1.Pt.make(pts[0].length, 0);\n        let cos = Math.cos(angle);\n        let sin = Math.sin(angle);\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let p = (axis) ? pts[i].$take(axis) : pts[i];\n            p.to(LinearAlgebra_1.Mat.transform2D(p, fn(cos, sin, anchor)));\n            if (axis) {\n                for (let k = 0; k < axis.length; k++) {\n                    pts[i][k] = p[k];\n                }\n            }\n        }\n        return Geom;\n    }\n    static shear2D(ps, scale, anchor, axis) {\n        let pts = (!Array.isArray(ps)) ? [ps] : ps;\n        let s = (typeof scale == \"number\") ? [scale, scale] : scale;\n        if (!anchor)\n            anchor = Pt_1.Pt.make(pts[0].length, 0);\n        let fn = (anchor) ? LinearAlgebra_1.Mat.shearAt2DMatrix : LinearAlgebra_1.Mat.shear2DMatrix;\n        let tanx = Math.tan(s[0]);\n        let tany = Math.tan(s[1]);\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let p = (axis) ? pts[i].$take(axis) : pts[i];\n            p.to(LinearAlgebra_1.Mat.transform2D(p, fn(tanx, tany, anchor)));\n            if (axis) {\n                for (let k = 0; k < axis.length; k++) {\n                    pts[i][k] = p[k];\n                }\n            }\n        }\n        return Geom;\n    }\n    static reflect2D(ps, line, axis) {\n        let pts = (!Array.isArray(ps)) ? [ps] : ps;\n        let mat = LinearAlgebra_1.Mat.reflectAt2DMatrix(line[0], line[1]);\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let p = (axis) ? pts[i].$take(axis) : pts[i];\n            p.to(LinearAlgebra_1.Mat.transform2D(p, mat));\n            if (axis) {\n                for (let k = 0; k < axis.length; k++) {\n                    pts[i][k] = p[k];\n                }\n            }\n        }\n        return Geom;\n    }\n    static cosTable() {\n        let cos = new Float64Array(360);\n        for (let i = 0; i < 360; i++)\n            cos[i] = Math.cos(i * Math.PI / 180);\n        let find = (rad) => cos[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n        return { table: cos, cos: find };\n    }\n    static sinTable() {\n        let sin = new Float64Array(360);\n        for (let i = 0; i < 360; i++)\n            sin[i] = Math.sin(i * Math.PI / 180);\n        let find = (rad) => sin[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n        return { table: sin, sin: find };\n    }\n}\nexports.Geom = Geom;\nclass Shaping {\n    static linear(t, c = 1) {\n        return c * t;\n    }\n    static quadraticIn(t, c = 1) {\n        return c * t * t;\n    }\n    static quadraticOut(t, c = 1) {\n        return -c * t * (t - 2);\n    }\n    static quadraticInOut(t, c = 1) {\n        let dt = t * 2;\n        return (t < 0.5) ? c / 2 * t * t * 4 : -c / 2 * ((dt - 1) * (dt - 3) - 1);\n    }\n    static cubicIn(t, c = 1) {\n        return c * t * t * t;\n    }\n    static cubicOut(t, c = 1) {\n        let dt = t - 1;\n        return c * (dt * dt * dt + 1);\n    }\n    static cubicInOut(t, c = 1) {\n        let dt = t * 2;\n        return (t < 0.5) ? c / 2 * dt * dt * dt : c / 2 * ((dt - 2) * (dt - 2) * (dt - 2) + 2);\n    }\n    static exponentialIn(t, c = 1, p = 0.25) {\n        return c * Math.pow(t, 1 / p);\n    }\n    static exponentialOut(t, c = 1, p = 0.25) {\n        return c * Math.pow(t, p);\n    }\n    static sineIn(t, c = 1) {\n        return -c * Math.cos(t * Util_1.Const.half_pi) + c;\n    }\n    static sineOut(t, c = 1) {\n        return c * Math.sin(t * Util_1.Const.half_pi);\n    }\n    static sineInOut(t, c = 1) {\n        return -c / 2 * (Math.cos(Math.PI * t) - 1);\n    }\n    static cosineApprox(t, c = 1) {\n        let t2 = t * t;\n        let t4 = t2 * t2;\n        let t6 = t4 * t2;\n        return c * (4 * t6 / 9 - 17 * t4 / 9 + 22 * t2 / 9);\n    }\n    static circularIn(t, c = 1) {\n        return -c * (Math.sqrt(1 - t * t) - 1);\n    }\n    static circularOut(t, c = 1) {\n        let dt = t - 1;\n        return c * Math.sqrt(1 - dt * dt);\n    }\n    static circularInOut(t, c = 1) {\n        let dt = t * 2;\n        return (t < 0.5) ? -c / 2 * (Math.sqrt(1 - dt * dt) - 1) : c / 2 * (Math.sqrt(1 - (dt - 2) * (dt - 2)) + 1);\n    }\n    static elasticIn(t, c = 1, p = 0.7) {\n        let dt = t - 1;\n        let s = (p / Util_1.Const.two_pi) * 1.5707963267948966;\n        return c * (-Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p));\n    }\n    static elasticOut(t, c = 1, p = 0.7) {\n        let s = (p / Util_1.Const.two_pi) * 1.5707963267948966;\n        return c * (Math.pow(2, -10 * t) * Math.sin((t - s) * Util_1.Const.two_pi / p)) + c;\n    }\n    static elasticInOut(t, c = 1, p = 0.6) {\n        let dt = t * 2;\n        let s = (p / Util_1.Const.two_pi) * 1.5707963267948966;\n        if (t < 0.5) {\n            dt -= 1;\n            return c * (-0.5 * (Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p)));\n        }\n        else {\n            dt -= 1;\n            return c * (0.5 * (Math.pow(2, -10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p))) + c;\n        }\n    }\n    static bounceIn(t, c = 1) {\n        return c - Shaping.bounceOut((1 - t), c);\n    }\n    static bounceOut(t, c = 1) {\n        if (t < (1 / 2.75)) {\n            return c * (7.5625 * t * t);\n        }\n        else if (t < (2 / 2.75)) {\n            t -= 1.5 / 2.75;\n            return c * (7.5625 * t * t + 0.75);\n        }\n        else if (t < (2.5 / 2.75)) {\n            t -= 2.25 / 2.75;\n            return c * (7.5625 * t * t + 0.9375);\n        }\n        else {\n            t -= 2.625 / 2.75;\n            return c * (7.5625 * t * t + 0.984375);\n        }\n    }\n    static bounceInOut(t, c = 1) {\n        return (t < 0.5) ? Shaping.bounceIn(t * 2, c) / 2 : Shaping.bounceOut(t * 2 - 1, c) / 2 + c / 2;\n    }\n    static sigmoid(t, c = 1, p = 10) {\n        let d = p * (t - 0.5);\n        return c / (1 + Math.exp(-d));\n    }\n    static logSigmoid(t, c = 1, p = 0.7) {\n        p = Math.max(Util_1.Const.epsilon, Math.min(1 - Util_1.Const.epsilon, p));\n        p = 1 / (1 - p);\n        let A = 1 / (1 + Math.exp(((t - 0.5) * p * -2)));\n        let B = 1 / (1 + Math.exp(p));\n        let C = 1 / (1 + Math.exp(-p));\n        return c * (A - B) / (C - B);\n    }\n    static seat(t, c = 1, p = 0.5) {\n        if ((t < 0.5)) {\n            return c * (Math.pow(2 * t, 1 - p)) / 2;\n        }\n        else {\n            return c * (1 - (Math.pow(2 * (1 - t), 1 - p)) / 2);\n        }\n    }\n    static quadraticBezier(t, c = 1, p = [0.05, 0.95]) {\n        let a = (typeof p != \"number\") ? p[0] : p;\n        let b = (typeof p != \"number\") ? p[1] : 0.5;\n        let om2a = 1 - 2 * a;\n        if (om2a === 0) {\n            om2a = Util_1.Const.epsilon;\n        }\n        let d = (Math.sqrt(a * a + om2a * t) - a) / om2a;\n        return c * ((1 - 2 * b) * (d * d) + (2 * b) * d);\n    }\n    static cubicBezier(t, c = 1, p1 = [0.1, 0.7], p2 = [0.9, 0.2]) {\n        let curve = new Pt_1.Group(new Pt_1.Pt(0, 0), new Pt_1.Pt(p1), new Pt_1.Pt(p2), new Pt_1.Pt(1, 1));\n        return c * Op_1.Curve.bezierStep(new Pt_1.Pt(t * t * t, t * t, t, 1), Op_1.Curve.controlPoints(curve)).y;\n    }\n    static quadraticTarget(t, c = 1, p1 = [0.2, 0.35]) {\n        let a = Math.min(1 - Util_1.Const.epsilon, Math.max(Util_1.Const.epsilon, p1[0]));\n        let b = Math.min(1, Math.max(0, p1[1]));\n        let A = (1 - b) / (1 - a) - (b / a);\n        let B = (A * (a * a) - b) / a;\n        let y = A * (t * t) - B * t;\n        return c * Math.min(1, Math.max(0, y));\n    }\n    static cliff(t, c = 1, p = 0.5) {\n        return (t > p) ? c : 0;\n    }\n    static step(fn, steps, t, c, ...args) {\n        let s = 1 / steps;\n        let tt = Math.floor(t / s) * s;\n        return fn(tt, c, ...args);\n    }\n}\nexports.Shaping = Shaping;\nclass Range {\n    constructor(g) {\n        this._dims = 0;\n        this._source = Pt_1.Group.fromPtArray(g);\n        this.calc();\n    }\n    get max() { return this._max.clone(); }\n    get min() { return this._min.clone(); }\n    get magnitude() { return this._mag.clone(); }\n    calc() {\n        if (!this._source)\n            return;\n        let dims = this._source[0].length;\n        this._dims = dims;\n        let max = new Pt_1.Pt(dims);\n        let min = new Pt_1.Pt(dims);\n        let mag = new Pt_1.Pt(dims);\n        for (let i = 0; i < dims; i++) {\n            max[i] = Util_1.Const.min;\n            min[i] = Util_1.Const.max;\n            mag[i] = 0;\n            let s = this._source.zipSlice(i);\n            for (let k = 0, len = s.length; k < len; k++) {\n                max[i] = Math.max(max[i], s[k]);\n                min[i] = Math.min(min[i], s[k]);\n                mag[i] = max[i] - min[i];\n            }\n        }\n        this._max = max;\n        this._min = min;\n        this._mag = mag;\n        return this;\n    }\n    mapTo(min, max, exclude) {\n        let target = new Pt_1.Group();\n        for (let i = 0, len = this._source.length; i < len; i++) {\n            let g = this._source[i];\n            let n = new Pt_1.Pt(this._dims);\n            for (let k = 0; k < this._dims; k++) {\n                n[k] = (exclude && exclude[k]) ? g[k] : Num.mapToRange(g[k], this._min[k], this._max[k], min, max);\n            }\n            target.push(n);\n        }\n        return target;\n    }\n    append(g, update = true) {\n        if (g[0].length !== this._dims)\n            throw new Error(`Dimensions don't match. ${this._dims} dimensions in Range and ${g[0].length} provided in parameter. `);\n        this._source = this._source.concat(g);\n        if (update)\n            this.calc();\n        return this;\n    }\n    ticks(count) {\n        let g = new Pt_1.Group();\n        for (let i = 0; i <= count; i++) {\n            let p = new Pt_1.Pt(this._dims);\n            for (let k = 0, len = this._max.length; k < len; k++) {\n                p[k] = Num.lerp(this._min[k], this._max[k], i / count);\n            }\n            g.push(p);\n        }\n        return g;\n    }\n}\nexports.Range = Range;\n\n\n/***/ }),\n\n/***/ \"./src/Op.ts\":\n/*!*******************!*\\\n  !*** ./src/Op.ts ***!\n  \\*******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst LinearAlgebra_1 = __webpack_require__(/*! ./LinearAlgebra */ \"./src/LinearAlgebra.ts\");\nlet _errorLength = (obj, param = \"expected\") => Util_1.Util.warn(\"Group's length is less than \" + param, obj);\nlet _errorOutofBound = (obj, param = \"\") => Util_1.Util.warn(`Index ${param} is out of bound in Group`, obj);\nclass Line {\n    static fromAngle(anchor, angle, magnitude) {\n        let g = new Pt_1.Group(new Pt_1.Pt(anchor), new Pt_1.Pt(anchor));\n        g[1].toAngle(angle, magnitude, true);\n        return g;\n    }\n    static slope(p1, p2) {\n        return (p2[0] - p1[0] === 0) ? undefined : (p2[1] - p1[1]) / (p2[0] - p1[0]);\n    }\n    static intercept(p1, p2) {\n        if (p2[0] - p1[0] === 0) {\n            return undefined;\n        }\n        else {\n            let m = (p2[1] - p1[1]) / (p2[0] - p1[0]);\n            let c = p1[1] - m * p1[0];\n            return { slope: m, yi: c, xi: (m === 0) ? undefined : -c / m };\n        }\n    }\n    static sideOfPt2D(line, pt) {\n        return (line[1][0] - line[0][0]) * (pt[1] - line[0][1]) - (pt[0] - line[0][0]) * (line[1][1] - line[0][1]);\n    }\n    static collinear(p1, p2, p3, threshold = 0.01) {\n        let a = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p2);\n        let b = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p3);\n        return a.$cross(b).divide(1000).equals(new Pt_1.Pt(0, 0, 0), threshold);\n    }\n    static magnitude(line) {\n        return (line.length >= 2) ? line[1].$subtract(line[0]).magnitude() : 0;\n    }\n    static magnitudeSq(line) {\n        return (line.length >= 2) ? line[1].$subtract(line[0]).magnitudeSq() : 0;\n    }\n    static perpendicularFromPt(line, pt, asProjection = false) {\n        if (line[0].equals(line[1]))\n            return undefined;\n        let a = line[0].$subtract(line[1]);\n        let b = line[1].$subtract(pt);\n        let proj = b.$subtract(a.$project(b));\n        return (asProjection) ? proj : proj.$add(pt);\n    }\n    static distanceFromPt(line, pt) {\n        return Line.perpendicularFromPt(line, pt, true).magnitude();\n    }\n    static intersectRay2D(la, lb) {\n        let a = Line.intercept(la[0], la[1]);\n        let b = Line.intercept(lb[0], lb[1]);\n        let pa = la[0];\n        let pb = lb[0];\n        if (a == undefined) {\n            if (b == undefined)\n                return undefined;\n            let y1 = -b.slope * (pb[0] - pa[0]) + pb[1];\n            return new Pt_1.Pt(pa[0], y1);\n        }\n        else {\n            if (b == undefined) {\n                let y1 = -a.slope * (pa[0] - pb[0]) + pa[1];\n                return new Pt_1.Pt(pb[0], y1);\n            }\n            else if (b.slope != a.slope) {\n                let px = (a.slope * pa[0] - b.slope * pb[0] + pb[1] - pa[1]) / (a.slope - b.slope);\n                let py = a.slope * (px - pa[0]) + pa[1];\n                return new Pt_1.Pt(px, py);\n            }\n            else {\n                if (a.yi == b.yi) {\n                    return new Pt_1.Pt(pa[0], pa[1]);\n                }\n                else {\n                    return undefined;\n                }\n            }\n        }\n    }\n    static intersectLine2D(la, lb) {\n        let pt = Line.intersectRay2D(la, lb);\n        return (pt && Num_1.Geom.withinBound(pt, la[0], la[1]) && Num_1.Geom.withinBound(pt, lb[0], lb[1])) ? pt : undefined;\n    }\n    static intersectLineWithRay2D(line, ray) {\n        let pt = Line.intersectRay2D(line, ray);\n        return (pt && Num_1.Geom.withinBound(pt, line[0], line[1])) ? pt : undefined;\n    }\n    static intersectPolygon2D(lineOrRay, poly, sourceIsRay = false) {\n        let fn = sourceIsRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n        let pts = new Pt_1.Group();\n        for (let i = 0, len = poly.length; i < len; i++) {\n            let next = (i === len - 1) ? 0 : i + 1;\n            let d = fn([poly[i], poly[next]], lineOrRay);\n            if (d)\n                pts.push(d);\n        }\n        return (pts.length > 0) ? pts : undefined;\n    }\n    static intersectLines2D(lines1, lines2, isRay = false) {\n        let group = new Pt_1.Group();\n        let fn = isRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n        for (let i = 0, len = lines1.length; i < len; i++) {\n            for (let k = 0, lenk = lines2.length; k < lenk; k++) {\n                let _ip = fn(lines1[i], lines2[k]);\n                if (_ip)\n                    group.push(_ip);\n            }\n        }\n        return group;\n    }\n    static intersectGridWithRay2D(ray, gridPt) {\n        let t = Line.intercept(new Pt_1.Pt(ray[0]).subtract(gridPt), new Pt_1.Pt(ray[1]).subtract(gridPt));\n        let g = new Pt_1.Group();\n        if (t && t.xi)\n            g.push(new Pt_1.Pt(gridPt[0] + t.xi, gridPt[1]));\n        if (t && t.yi)\n            g.push(new Pt_1.Pt(gridPt[0], gridPt[1] + t.yi));\n        return g;\n    }\n    static intersectGridWithLine2D(line, gridPt) {\n        let g = Line.intersectGridWithRay2D(line, gridPt);\n        let gg = new Pt_1.Group();\n        for (let i = 0, len = g.length; i < len; i++) {\n            if (Num_1.Geom.withinBound(g[i], line[0], line[1]))\n                gg.push(g[i]);\n        }\n        return gg;\n    }\n    static intersectRect2D(line, rect) {\n        let box = Num_1.Geom.boundingBox(Pt_1.Group.fromPtArray(line));\n        if (!Rectangle.hasIntersectRect2D(box, rect))\n            return new Pt_1.Group();\n        return Line.intersectLines2D([line], Rectangle.sides(rect));\n    }\n    static subpoints(line, num) {\n        let pts = new Pt_1.Group();\n        for (let i = 1; i <= num; i++) {\n            pts.push(Num_1.Geom.interpolate(line[0], line[1], i / (num + 1)));\n        }\n        return pts;\n    }\n    static crop(line, size, index = 0, cropAsCircle = true) {\n        let tdx = (index === 0) ? 1 : 0;\n        let ls = line[tdx].$subtract(line[index]);\n        if (ls[0] === 0 || size[0] === 0)\n            return line[index];\n        if (cropAsCircle) {\n            let d = ls.unit().multiply(size[1]);\n            return line[index].$add(d);\n        }\n        else {\n            let rect = Rectangle.fromCenter(line[index], size);\n            let sides = Rectangle.sides(rect);\n            let sideIdx = 0;\n            if (Math.abs(ls[1] / ls[0]) > Math.abs(size[1] / size[0])) {\n                sideIdx = (ls[1] < 0) ? 0 : 2;\n            }\n            else {\n                sideIdx = (ls[0] < 0) ? 3 : 1;\n            }\n            return Line.intersectRay2D(sides[sideIdx], line);\n        }\n    }\n    static marker(line, size, graphic = (\"arrow\" || \"line\"), atTail = true) {\n        let h = atTail ? 0 : 1;\n        let t = atTail ? 1 : 0;\n        let unit = line[h].$subtract(line[t]);\n        if (unit.magnitudeSq() === 0)\n            return new Pt_1.Group();\n        unit.unit();\n        let ps = Num_1.Geom.perpendicular(unit).multiply(size[0]).add(line[t]);\n        if (graphic == \"arrow\") {\n            ps.add(unit.$multiply(size[1]));\n            return new Pt_1.Group(line[t], ps[0], ps[1]);\n        }\n        else {\n            return new Pt_1.Group(ps[0], ps[1]);\n        }\n    }\n    static toRect(line) {\n        return new Pt_1.Group(line[0].$min(line[1]), line[0].$max(line[1]));\n    }\n}\nexports.Line = Line;\nclass Rectangle {\n    static from(topLeft, widthOrSize, height) {\n        return Rectangle.fromTopLeft(topLeft, widthOrSize, height);\n    }\n    static fromTopLeft(topLeft, widthOrSize, height) {\n        let size = (typeof widthOrSize == \"number\") ? [widthOrSize, (height || widthOrSize)] : widthOrSize;\n        return new Pt_1.Group(new Pt_1.Pt(topLeft), new Pt_1.Pt(topLeft).add(size));\n    }\n    static fromCenter(center, widthOrSize, height) {\n        let half = (typeof widthOrSize == \"number\") ? [widthOrSize / 2, (height || widthOrSize) / 2] : new Pt_1.Pt(widthOrSize).divide(2);\n        return new Pt_1.Group(new Pt_1.Pt(center).subtract(half), new Pt_1.Pt(center).add(half));\n    }\n    static toCircle(pts, within = true) {\n        return Circle.fromRect(pts, within);\n    }\n    static toSquare(pts, enclose = false) {\n        let s = Rectangle.size(pts);\n        let m = (enclose) ? s.maxValue().value : s.minValue().value;\n        return Rectangle.fromCenter(Rectangle.center(pts), m, m);\n    }\n    static size(pts) {\n        return pts[0].$max(pts[1]).subtract(pts[0].$min(pts[1]));\n    }\n    static center(pts) {\n        let min = pts[0].$min(pts[1]);\n        let max = pts[0].$max(pts[1]);\n        return min.add(max.$subtract(min).divide(2));\n    }\n    static corners(rect) {\n        let p0 = rect[0].$min(rect[1]);\n        let p2 = rect[0].$max(rect[1]);\n        return new Pt_1.Group(p0, new Pt_1.Pt(p2.x, p0.y), p2, new Pt_1.Pt(p0.x, p2.y));\n    }\n    static sides(rect) {\n        let [p0, p1, p2, p3] = Rectangle.corners(rect);\n        return [\n            new Pt_1.Group(p0, p1), new Pt_1.Group(p1, p2),\n            new Pt_1.Group(p2, p3), new Pt_1.Group(p3, p0)\n        ];\n    }\n    static boundingBox(rects) {\n        let merged = Util_1.Util.flatten(rects, false);\n        let min = Pt_1.Pt.make(2, Number.MAX_VALUE);\n        let max = Pt_1.Pt.make(2, Number.MIN_VALUE);\n        for (let i = 0, len = merged.length; i < len; i++) {\n            for (let k = 0; k < 2; k++) {\n                min[k] = Math.min(min[k], merged[i][k]);\n                max[k] = Math.max(max[k], merged[i][k]);\n            }\n        }\n        return new Pt_1.Group(min, max);\n    }\n    static polygon(rect) {\n        return Rectangle.corners(rect);\n    }\n    static quadrants(rect, center) {\n        let corners = Rectangle.corners(rect);\n        let _center = (center != undefined) ? new Pt_1.Pt(center) : Rectangle.center(rect);\n        return corners.map((c) => new Pt_1.Group(c, _center).boundingBox());\n    }\n    static halves(rect, ratio = 0.5, asRows = false) {\n        let min = rect[0].$min(rect[1]);\n        let max = rect[0].$max(rect[1]);\n        let mid = (asRows) ? Num_1.Num.lerp(min[1], max[1], ratio) : Num_1.Num.lerp(min[0], max[0], ratio);\n        return (asRows)\n            ? [new Pt_1.Group(min, new Pt_1.Pt(max[0], mid)), new Pt_1.Group(new Pt_1.Pt(min[0], mid), max)]\n            : [new Pt_1.Group(min, new Pt_1.Pt(mid, max[1])), new Pt_1.Group(new Pt_1.Pt(mid, min[1]), max)];\n    }\n    static withinBound(rect, pt) {\n        return Num_1.Geom.withinBound(pt, rect[0], rect[1]);\n    }\n    static hasIntersectRect2D(rect1, rect2, resetBoundingBox = false) {\n        if (resetBoundingBox) {\n            rect1 = Num_1.Geom.boundingBox(rect1);\n            rect2 = Num_1.Geom.boundingBox(rect2);\n        }\n        if (rect1[0][0] > rect2[1][0] || rect2[0][0] > rect1[1][0])\n            return false;\n        if (rect1[0][1] > rect2[1][1] || rect2[0][1] > rect1[1][1])\n            return false;\n        return true;\n    }\n    static intersectRect2D(rect1, rect2) {\n        if (!Rectangle.hasIntersectRect2D(rect1, rect2))\n            return new Pt_1.Group();\n        return Line.intersectLines2D(Rectangle.sides(rect1), Rectangle.sides(rect2));\n    }\n}\nexports.Rectangle = Rectangle;\nclass Circle {\n    static fromRect(pts, enclose = false) {\n        let r = 0;\n        let min = r = Rectangle.size(pts).minValue().value / 2;\n        if (enclose) {\n            let max = Rectangle.size(pts).maxValue().value / 2;\n            r = Math.sqrt(min * min + max * max);\n        }\n        else {\n            r = min;\n        }\n        return new Pt_1.Group(Rectangle.center(pts), new Pt_1.Pt(r, r));\n    }\n    static fromTriangle(pts, enclose = false) {\n        if (enclose) {\n            return Triangle.circumcircle(pts);\n        }\n        else {\n            return Triangle.incircle(pts);\n        }\n    }\n    static fromCenter(pt, radius) {\n        return new Pt_1.Group(new Pt_1.Pt(pt), new Pt_1.Pt(radius, radius));\n    }\n    static withinBound(pts, pt, threshold = 0) {\n        let d = pts[0].$subtract(pt);\n        return d.dot(d) + threshold < pts[1].x * pts[1].x;\n    }\n    static intersectRay2D(pts, ray) {\n        let d = ray[0].$subtract(ray[1]);\n        let f = pts[0].$subtract(ray[0]);\n        let a = d.dot(d);\n        let b = f.dot(d);\n        let c = f.dot(f) - pts[1].x * pts[1].x;\n        let p = b / a;\n        let q = c / a;\n        let disc = p * p - q;\n        if (disc < 0) {\n            return new Pt_1.Group();\n        }\n        else {\n            let discSqrt = Math.sqrt(disc);\n            let t1 = -p + discSqrt;\n            let p1 = ray[0].$subtract(d.$multiply(t1));\n            if (disc === 0)\n                return new Pt_1.Group(p1);\n            let t2 = -p - discSqrt;\n            let p2 = ray[0].$subtract(d.$multiply(t2));\n            return new Pt_1.Group(p1, p2);\n        }\n    }\n    static intersectLine2D(pts, line) {\n        let ps = Circle.intersectRay2D(pts, line);\n        let g = new Pt_1.Group();\n        if (ps.length > 0) {\n            for (let i = 0, len = ps.length; i < len; i++) {\n                if (Rectangle.withinBound(line, ps[i]))\n                    g.push(ps[i]);\n            }\n        }\n        return g;\n    }\n    static intersectCircle2D(pts, circle) {\n        let dv = circle[0].$subtract(pts[0]);\n        let dr2 = dv.magnitudeSq();\n        let dr = Math.sqrt(dr2);\n        let ar = pts[1].x;\n        let br = circle[1].x;\n        let ar2 = ar * ar;\n        let br2 = br * br;\n        if (dr > ar + br) {\n            return new Pt_1.Group();\n        }\n        else if (dr < Math.abs(ar - br)) {\n            return new Pt_1.Group(pts[0].clone());\n        }\n        else {\n            let a = (ar2 - br2 + dr2) / (2 * dr);\n            let h = Math.sqrt(ar2 - a * a);\n            let p = dv.$multiply(a / dr).add(pts[0]);\n            return new Pt_1.Group(new Pt_1.Pt(p.x + h * dv.y / dr, p.y - h * dv.x / dr), new Pt_1.Pt(p.x - h * dv.y / dr, p.y + h * dv.x / dr));\n        }\n    }\n    static intersectRect2D(pts, rect) {\n        let sides = Rectangle.sides(rect);\n        let g = [];\n        for (let i = 0, len = sides.length; i < len; i++) {\n            let ps = Circle.intersectLine2D(pts, sides[i]);\n            if (ps.length > 0)\n                g.push(ps);\n        }\n        return Util_1.Util.flatten(g);\n    }\n    static toRect(pts, within = false) {\n        let r = pts[1][0];\n        if (within) {\n            let half = Math.sqrt(r * r) / 2;\n            return new Pt_1.Group(pts[0].$subtract(half), pts[0].$add(half));\n        }\n        else {\n            return new Pt_1.Group(pts[0].$subtract(r), pts[0].$add(r));\n        }\n    }\n    static toTriangle(pts, within = true) {\n        if (within) {\n            let ang = -Math.PI / 2;\n            let inc = Math.PI * 2 / 3;\n            let g = new Pt_1.Group();\n            for (let i = 0; i < 3; i++) {\n                g.push(pts[0].clone().toAngle(ang, pts[1][0], true));\n                ang += inc;\n            }\n            return g;\n        }\n        else {\n            return Triangle.fromCenter(pts[0], pts[1][0]);\n        }\n    }\n}\nexports.Circle = Circle;\nclass Triangle {\n    static fromRect(rect) {\n        let top = rect[0].$add(rect[1]).divide(2);\n        top.y = rect[0][1];\n        let left = rect[1].clone();\n        left.x = rect[0][0];\n        return new Pt_1.Group(top, rect[1].clone(), left);\n    }\n    static fromCircle(circle) {\n        return Circle.toTriangle(circle, true);\n    }\n    static fromCenter(pt, size) {\n        return Triangle.fromCircle(Circle.fromCenter(pt, size));\n    }\n    static medial(pts) {\n        if (pts.length < 3)\n            return _errorLength(new Pt_1.Group(), 3);\n        return Polygon.midpoints(pts, true);\n    }\n    static oppositeSide(pts, index) {\n        if (pts.length < 3)\n            return _errorLength(new Pt_1.Group(), 3);\n        if (index === 0) {\n            return Pt_1.Group.fromPtArray([pts[1], pts[2]]);\n        }\n        else if (index === 1) {\n            return Pt_1.Group.fromPtArray([pts[0], pts[2]]);\n        }\n        else {\n            return Pt_1.Group.fromPtArray([pts[0], pts[1]]);\n        }\n    }\n    static altitude(pts, index) {\n        let opp = Triangle.oppositeSide(pts, index);\n        if (opp.length > 1) {\n            return new Pt_1.Group(pts[index], Line.perpendicularFromPt(opp, pts[index]));\n        }\n        else {\n            return new Pt_1.Group();\n        }\n    }\n    static orthocenter(pts) {\n        if (pts.length < 3)\n            return _errorLength(undefined, 3);\n        let a = Triangle.altitude(pts, 0);\n        let b = Triangle.altitude(pts, 1);\n        return Line.intersectRay2D(a, b);\n    }\n    static incenter(pts) {\n        if (pts.length < 3)\n            return _errorLength(undefined, 3);\n        let a = Polygon.bisector(pts, 0).add(pts[0]);\n        let b = Polygon.bisector(pts, 1).add(pts[1]);\n        return Line.intersectRay2D(new Pt_1.Group(pts[0], a), new Pt_1.Group(pts[1], b));\n    }\n    static incircle(pts, center) {\n        let c = (center) ? center : Triangle.incenter(pts);\n        let area = Polygon.area(pts);\n        let perim = Polygon.perimeter(pts, true);\n        let r = 2 * area / perim.total;\n        return Circle.fromCenter(c, r);\n    }\n    static circumcenter(pts) {\n        let md = Triangle.medial(pts);\n        let a = [md[0], Num_1.Geom.perpendicular(pts[0].$subtract(md[0])).p1.$add(md[0])];\n        let b = [md[1], Num_1.Geom.perpendicular(pts[1].$subtract(md[1])).p1.$add(md[1])];\n        return Line.intersectRay2D(a, b);\n    }\n    static circumcircle(pts, center) {\n        let c = (center) ? center : Triangle.circumcenter(pts);\n        let r = pts[0].$subtract(c).magnitude();\n        return Circle.fromCenter(c, r);\n    }\n}\nexports.Triangle = Triangle;\nclass Polygon {\n    static centroid(pts) {\n        return Num_1.Geom.centroid(pts);\n    }\n    static rectangle(center, widthOrSize, height) {\n        return Rectangle.corners(Rectangle.fromCenter(center, widthOrSize, height));\n    }\n    static fromCenter(center, radius, sides) {\n        let g = new Pt_1.Group();\n        for (let i = 0; i < sides; i++) {\n            let ang = Math.PI * 2 * i / sides;\n            g.push(new Pt_1.Pt(Math.cos(ang) * radius, Math.sin(ang) * radius).add(center));\n        }\n        return g;\n    }\n    static lineAt(pts, idx) {\n        if (idx < 0 || idx >= pts.length)\n            throw new Error(\"index out of the Polygon's range\");\n        return new Pt_1.Group(pts[idx], (idx === pts.length - 1) ? pts[0] : pts[idx + 1]);\n    }\n    static lines(pts, closePath = true) {\n        if (pts.length < 2)\n            return _errorLength(new Pt_1.Group(), 2);\n        let sp = Util_1.Util.split(pts, 2, 1);\n        if (closePath)\n            sp.push(new Pt_1.Group(pts[pts.length - 1], pts[0]));\n        return sp.map((g) => g);\n    }\n    static midpoints(pts, closePath = false, t = 0.5) {\n        if (pts.length < 2)\n            return _errorLength(new Pt_1.Group(), 2);\n        let sides = Polygon.lines(pts, closePath);\n        let mids = sides.map((s) => Num_1.Geom.interpolate(s[0], s[1], t));\n        return mids;\n    }\n    static adjacentSides(pts, index, closePath = false) {\n        if (pts.length < 2)\n            return _errorLength(new Pt_1.Group(), 2);\n        if (index < 0 || index >= pts.length)\n            return _errorOutofBound(new Pt_1.Group(), index);\n        let gs = [];\n        let left = index - 1;\n        if (closePath && left < 0)\n            left = pts.length - 1;\n        if (left >= 0)\n            gs.push(new Pt_1.Group(pts[index], pts[left]));\n        let right = index + 1;\n        if (closePath && right > pts.length - 1)\n            right = 0;\n        if (right <= pts.length - 1)\n            gs.push(new Pt_1.Group(pts[index], pts[right]));\n        return gs;\n    }\n    static bisector(pts, index) {\n        let sides = Polygon.adjacentSides(pts, index, true);\n        if (sides.length >= 2) {\n            let a = sides[0][1].$subtract(sides[0][0]).unit();\n            let b = sides[1][1].$subtract(sides[1][0]).unit();\n            return a.add(b).divide(2);\n        }\n        else {\n            return undefined;\n        }\n    }\n    static perimeter(pts, closePath = false) {\n        if (pts.length < 2)\n            return _errorLength(new Pt_1.Group(), 2);\n        let lines = Polygon.lines(pts, closePath);\n        let mag = 0;\n        let p = Pt_1.Pt.make(lines.length, 0);\n        for (let i = 0, len = lines.length; i < len; i++) {\n            let m = Line.magnitude(lines[i]);\n            mag += m;\n            p[i] = m;\n        }\n        return {\n            total: mag,\n            segments: p\n        };\n    }\n    static area(pts) {\n        if (pts.length < 3)\n            return _errorLength(new Pt_1.Group(), 3);\n        let det = (a, b) => a[0] * b[1] - a[1] * b[0];\n        let area = 0;\n        for (let i = 0, len = pts.length; i < len; i++) {\n            if (i < pts.length - 1) {\n                area += det(pts[i], pts[i + 1]);\n            }\n            else {\n                area += det(pts[i], pts[0]);\n            }\n        }\n        return Math.abs(area / 2);\n    }\n    static convexHull(pts, sorted = false) {\n        if (pts.length < 3)\n            return _errorLength(new Pt_1.Group(), 3);\n        if (!sorted) {\n            pts = pts.slice();\n            pts.sort((a, b) => a[0] - b[0]);\n        }\n        let left = (a, b, c) => {\n            return (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]) > 0;\n        };\n        let dq = [];\n        let bot = pts.length - 2;\n        let top = bot + 3;\n        dq[bot] = pts[2];\n        dq[top] = pts[2];\n        if (left(pts[0], pts[1], pts[2])) {\n            dq[bot + 1] = pts[0];\n            dq[bot + 2] = pts[1];\n        }\n        else {\n            dq[bot + 1] = pts[1];\n            dq[bot + 2] = pts[0];\n        }\n        for (let i = 3, len = pts.length; i < len; i++) {\n            let pt = pts[i];\n            if (left(dq[bot], dq[bot + 1], pt) && left(dq[top - 1], dq[top], pt)) {\n                continue;\n            }\n            while (!left(dq[bot], dq[bot + 1], pt)) {\n                bot += 1;\n            }\n            bot -= 1;\n            dq[bot] = pt;\n            while (!left(dq[top - 1], dq[top], pt)) {\n                top -= 1;\n            }\n            top += 1;\n            dq[top] = pt;\n        }\n        let hull = new Pt_1.Group();\n        for (let h = 0; h < (top - bot); h++) {\n            hull.push(dq[bot + h]);\n        }\n        return hull;\n    }\n    static network(pts, originIndex = 0) {\n        let g = [];\n        for (let i = 0, len = pts.length; i < len; i++) {\n            if (i != originIndex)\n                g.push(new Pt_1.Group(pts[originIndex], pts[i]));\n        }\n        return g;\n    }\n    static nearestPt(pts, pt) {\n        let _near = Number.MAX_VALUE;\n        let _item = -1;\n        for (let i = 0, len = pts.length; i < len; i++) {\n            let d = pts[i].$subtract(pt).magnitudeSq();\n            if (d < _near) {\n                _near = d;\n                _item = i;\n            }\n        }\n        return _item;\n    }\n    static projectAxis(poly, unitAxis) {\n        let dot = unitAxis.dot(poly[0]);\n        let d = new Pt_1.Pt(dot, dot);\n        for (let n = 1, len = poly.length; n < len; n++) {\n            dot = unitAxis.dot(poly[n]);\n            d = new Pt_1.Pt(Math.min(dot, d[0]), Math.max(dot, d[1]));\n        }\n        return d;\n    }\n    static _axisOverlap(poly1, poly2, unitAxis) {\n        let pa = Polygon.projectAxis(poly1, unitAxis);\n        let pb = Polygon.projectAxis(poly2, unitAxis);\n        return (pa[0] < pb[0]) ? pb[0] - pa[1] : pa[0] - pb[1];\n    }\n    static hasIntersectPoint(poly, pt) {\n        let c = false;\n        for (let i = 0, len = poly.length; i < len; i++) {\n            let ln = Polygon.lineAt(poly, i);\n            if (((ln[0][1] > pt[1]) != (ln[1][1] > pt[1])) &&\n                (pt[0] < (ln[1][0] - ln[0][0]) * (pt[1] - ln[0][1]) / (ln[1][1] - ln[0][1]) + ln[0][0])) {\n                c = !c;\n            }\n        }\n        return c;\n    }\n    static hasIntersectCircle(poly, circle) {\n        let info = {\n            which: -1,\n            dist: 0,\n            normal: null,\n            edge: null,\n            vertex: null,\n        };\n        let c = circle[0];\n        let r = circle[1][0];\n        let minDist = Number.MAX_SAFE_INTEGER;\n        for (let i = 0, len = poly.length; i < len; i++) {\n            let edge = Polygon.lineAt(poly, i);\n            let axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n            let poly2 = new Pt_1.Group(c.$add(axis.$multiply(r)), c.$subtract(axis.$multiply(r)));\n            let dist = Polygon._axisOverlap(poly, poly2, axis);\n            if (dist > 0) {\n                return null;\n            }\n            else if (Math.abs(dist) < minDist) {\n                let check = Rectangle.withinBound(edge, Line.perpendicularFromPt(edge, c)) || Circle.intersectLine2D(circle, edge).length > 0;\n                if (check) {\n                    info.edge = edge;\n                    info.normal = axis;\n                    minDist = Math.abs(dist);\n                    info.which = i;\n                }\n            }\n        }\n        if (!info.edge)\n            return null;\n        let dir = c.$subtract(Polygon.centroid(poly)).dot(info.normal);\n        if (dir < 0)\n            info.normal.multiply(-1);\n        info.dist = minDist;\n        info.vertex = c;\n        return info;\n    }\n    static hasIntersectPolygon(poly1, poly2) {\n        let info = {\n            which: -1,\n            dist: 0,\n            normal: new Pt_1.Pt(),\n            edge: new Pt_1.Group(),\n            vertex: new Pt_1.Pt()\n        };\n        let minDist = Number.MAX_SAFE_INTEGER;\n        for (let i = 0, plen = (poly1.length + poly2.length); i < plen; i++) {\n            let edge = (i < poly1.length) ? Polygon.lineAt(poly1, i) : Polygon.lineAt(poly2, i - poly1.length);\n            let axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n            let dist = Polygon._axisOverlap(poly1, poly2, axis);\n            if (dist > 0) {\n                return null;\n            }\n            else if (Math.abs(dist) < minDist) {\n                info.edge = edge;\n                info.normal = axis;\n                minDist = Math.abs(dist);\n                info.which = (i < poly1.length) ? 0 : 1;\n            }\n        }\n        info.dist = minDist;\n        let b1 = (info.which === 0) ? poly2 : poly1;\n        let b2 = (info.which === 0) ? poly1 : poly2;\n        let c1 = Polygon.centroid(b1);\n        let c2 = Polygon.centroid(b2);\n        let dir = c1.$subtract(c2).dot(info.normal);\n        if (dir < 0)\n            info.normal.multiply(-1);\n        let smallest = Number.MAX_SAFE_INTEGER;\n        for (let i = 0, len = b1.length; i < len; i++) {\n            let d = info.normal.dot(b1[i].$subtract(c2));\n            if (d < smallest) {\n                smallest = d;\n                info.vertex = b1[i];\n            }\n        }\n        return info;\n    }\n    static intersectPolygon2D(poly1, poly2) {\n        let lp = Polygon.lines(poly1);\n        let g = [];\n        for (let i = 0, len = lp.length; i < len; i++) {\n            let ins = Line.intersectPolygon2D(lp[i], poly2, false);\n            if (ins)\n                g.push(ins);\n        }\n        return Util_1.Util.flatten(g, true);\n    }\n    static toRects(polys) {\n        let boxes = polys.map((g) => Num_1.Geom.boundingBox(g));\n        let merged = Util_1.Util.flatten(boxes, false);\n        boxes.unshift(Num_1.Geom.boundingBox(merged));\n        return boxes;\n    }\n}\nexports.Polygon = Polygon;\nclass Curve {\n    static getSteps(steps) {\n        let ts = new Pt_1.Group();\n        for (let i = 0; i <= steps; i++) {\n            let t = i / steps;\n            ts.push(new Pt_1.Pt(t * t * t, t * t, t, 1));\n        }\n        return ts;\n    }\n    static controlPoints(pts, index = 0, copyStart = false) {\n        if (index > pts.length - 1)\n            return new Pt_1.Group();\n        let _index = (i) => (i < pts.length - 1) ? i : pts.length - 1;\n        let p0 = pts[index];\n        index = (copyStart) ? index : index + 1;\n        return new Pt_1.Group(p0, pts[_index(index++)], pts[_index(index++)], pts[_index(index++)]);\n    }\n    static _calcPt(ctrls, params) {\n        let x = ctrls.reduce((a, c, i) => a + c.x * params[i], 0);\n        let y = ctrls.reduce((a, c, i) => a + c.y * params[i], 0);\n        if (ctrls[0].length > 2) {\n            let z = ctrls.reduce((a, c, i) => a + c.z * params[i], 0);\n            return new Pt_1.Pt(x, y, z);\n        }\n        return new Pt_1.Pt(x, y);\n    }\n    static catmullRom(pts, steps = 10) {\n        if (pts.length < 2)\n            return new Pt_1.Group();\n        let ps = new Pt_1.Group();\n        let ts = Curve.getSteps(steps);\n        let c = Curve.controlPoints(pts, 0, true);\n        for (let i = 0; i <= steps; i++) {\n            ps.push(Curve.catmullRomStep(ts[i], c));\n        }\n        let k = 0;\n        while (k < pts.length - 2) {\n            let cp = Curve.controlPoints(pts, k);\n            if (cp.length > 0) {\n                for (let i = 0; i <= steps; i++) {\n                    ps.push(Curve.catmullRomStep(ts[i], cp));\n                }\n                k++;\n            }\n        }\n        return ps;\n    }\n    static catmullRomStep(step, ctrls) {\n        let m = new Pt_1.Group(new Pt_1.Pt(-0.5, 1, -0.5, 0), new Pt_1.Pt(1.5, -2.5, 0, 1), new Pt_1.Pt(-1.5, 2, 0.5, 0), new Pt_1.Pt(0.5, -0.5, 0, 0));\n        return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n    }\n    static cardinal(pts, steps = 10, tension = 0.5) {\n        if (pts.length < 2)\n            return new Pt_1.Group();\n        let ps = new Pt_1.Group();\n        let ts = Curve.getSteps(steps);\n        let c = Curve.controlPoints(pts, 0, true);\n        for (let i = 0; i <= steps; i++) {\n            ps.push(Curve.cardinalStep(ts[i], c, tension));\n        }\n        let k = 0;\n        while (k < pts.length - 2) {\n            let cp = Curve.controlPoints(pts, k);\n            if (cp.length > 0) {\n                for (let i = 0; i <= steps; i++) {\n                    ps.push(Curve.cardinalStep(ts[i], cp, tension));\n                }\n                k++;\n            }\n        }\n        return ps;\n    }\n    static cardinalStep(step, ctrls, tension = 0.5) {\n        let m = new Pt_1.Group(new Pt_1.Pt(-1, 2, -1, 0), new Pt_1.Pt(-1, 1, 0, 0), new Pt_1.Pt(1, -2, 1, 0), new Pt_1.Pt(1, -1, 0, 0));\n        let h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n        let h2 = (2 * step[0] - 3 * step[1] + 1);\n        let h3 = -2 * step[0] + 3 * step[1];\n        let pt = Curve._calcPt(ctrls, h);\n        pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n        pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n        if (pt.length > 2)\n            pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n        return pt;\n    }\n    static bezier(pts, steps = 10) {\n        if (pts.length < 4)\n            return new Pt_1.Group();\n        let ps = new Pt_1.Group();\n        let ts = Curve.getSteps(steps);\n        let k = 0;\n        while (k < pts.length - 3) {\n            let c = Curve.controlPoints(pts, k);\n            if (c.length > 0) {\n                for (let i = 0; i <= steps; i++) {\n                    ps.push(Curve.bezierStep(ts[i], c));\n                }\n                k += 3;\n            }\n        }\n        return ps;\n    }\n    static bezierStep(step, ctrls) {\n        let m = new Pt_1.Group(new Pt_1.Pt(-1, 3, -3, 1), new Pt_1.Pt(3, -6, 3, 0), new Pt_1.Pt(-3, 3, 0, 0), new Pt_1.Pt(1, 0, 0, 0));\n        return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n    }\n    static bspline(pts, steps = 10, tension = 1) {\n        if (pts.length < 2)\n            return new Pt_1.Group();\n        let ps = new Pt_1.Group();\n        let ts = Curve.getSteps(steps);\n        let k = 0;\n        while (k < pts.length - 3) {\n            let c = Curve.controlPoints(pts, k);\n            if (c.length > 0) {\n                if (tension !== 1) {\n                    for (let i = 0; i <= steps; i++) {\n                        ps.push(Curve.bsplineTensionStep(ts[i], c, tension));\n                    }\n                }\n                else {\n                    for (let i = 0; i <= steps; i++) {\n                        ps.push(Curve.bsplineStep(ts[i], c));\n                    }\n                }\n                k++;\n            }\n        }\n        return ps;\n    }\n    static bsplineStep(step, ctrls) {\n        let m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(0.5, -1, 0, 0.6666666666666666), new Pt_1.Pt(-0.5, 0.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n        return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n    }\n    static bsplineTensionStep(step, ctrls, tension = 1) {\n        let m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(-1.5, 2, 0, -0.3333333333333333), new Pt_1.Pt(1.5, -2.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n        let h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n        let h2 = (2 * step[0] - 3 * step[1] + 1);\n        let h3 = -2 * step[0] + 3 * step[1];\n        let pt = Curve._calcPt(ctrls, h);\n        pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n        pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n        if (pt.length > 2)\n            pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n        return pt;\n    }\n}\nexports.Curve = Curve;\n\n\n/***/ }),\n\n/***/ \"./src/Physics.ts\":\n/*!************************!*\\\n  !*** ./src/Physics.ts ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nclass World {\n    constructor(bound, friction = 1, gravity = 0) {\n        this._lastTime = null;\n        this._gravity = new Pt_1.Pt();\n        this._friction = 1;\n        this._damping = 0.75;\n        this._particles = [];\n        this._bodies = [];\n        this._pnames = [];\n        this._bnames = [];\n        this._bound = Pt_1.Bound.fromGroup(bound);\n        this._friction = friction;\n        this._gravity = (typeof gravity === \"number\") ? new Pt_1.Pt(0, gravity) : new Pt_1.Pt(gravity);\n        return this;\n    }\n    get bound() { return this._bound; }\n    set bound(bound) { this._bound = bound; }\n    get gravity() { return this._gravity; }\n    set gravity(g) { this._gravity = g; }\n    get friction() { return this._friction; }\n    set friction(f) { this._friction = f; }\n    get damping() { return this._damping; }\n    set damping(f) { this._damping = f; }\n    get bodyCount() { return this._bodies.length; }\n    get particleCount() { return this._particles.length; }\n    body(id) {\n        let idx = id;\n        if (typeof id === \"string\" && id.length > 0) {\n            idx = this._bnames.indexOf(id);\n        }\n        if (!(idx >= 0))\n            return undefined;\n        return this._bodies[idx];\n    }\n    particle(id) {\n        let idx = id;\n        if (typeof id === \"string\" && id.length > 0) {\n            idx = this._pnames.indexOf(id);\n        }\n        if (!(idx >= 0))\n            return undefined;\n        return this._particles[idx];\n    }\n    bodyIndex(name) {\n        return this._bnames.indexOf(name);\n    }\n    particleIndex(name) {\n        return this._pnames.indexOf(name);\n    }\n    update(ms) {\n        let dt = ms / 1000;\n        this._updateParticles(dt);\n        this._updateBodies(dt);\n    }\n    drawParticles(fn) {\n        this._drawParticles = fn;\n    }\n    drawBodies(fn) {\n        this._drawBodies = fn;\n    }\n    add(p, name = '') {\n        if (p instanceof Body) {\n            this._bodies.push(p);\n            this._bnames.push(name);\n        }\n        else {\n            this._particles.push(p);\n            this._pnames.push(name);\n        }\n        return this;\n    }\n    _index(fn, id) {\n        let index = 0;\n        if (typeof id === \"string\") {\n            index = fn(id);\n            if (index < 0)\n                throw new Error(`Cannot find index of ${id}. You can use particleIndex() or bodyIndex() function to check existence by name.`);\n        }\n        else {\n            index = id;\n        }\n        return index;\n    }\n    removeBody(from, count = 1) {\n        const index = this._index(this.bodyIndex.bind(this), from);\n        const param = (index < 0) ? [index * -1 - 1, count] : [index, count];\n        this._bodies.splice(param[0], param[1]);\n        this._bnames.splice(param[0], param[1]);\n        return this;\n    }\n    removeParticle(from, count = 1) {\n        const index = this._index(this.particleIndex.bind(this), from);\n        const param = (index < 0) ? [index * -1 - 1, count] : [index, count];\n        this._particles.splice(param[0], param[1]);\n        this._pnames.splice(param[0], param[1]);\n        return this;\n    }\n    static edgeConstraint(p1, p2, dist, stiff = 1, precise = false) {\n        const m1 = 1 / (p1.mass || 1);\n        const m2 = 1 / (p2.mass || 1);\n        const mm = m1 + m2;\n        let delta = p2.$subtract(p1);\n        let distSq = dist * dist;\n        let d = (precise) ? (dist / delta.magnitude() - 1) : (distSq / (delta.dot(delta) + distSq) - 0.5);\n        let f = delta.$multiply(d * stiff);\n        p1.subtract(f.$multiply(m1 / mm));\n        p2.add(f.$multiply(m2 / mm));\n        return p1;\n    }\n    static boundConstraint(p, rect, damping = 0.75) {\n        let bound = rect.boundingBox();\n        let np = p.$min(bound[1].subtract(p.radius)).$max(bound[0].add(p.radius));\n        if (np[0] === bound[0][0] || np[0] === bound[1][0]) {\n            let c = p.changed.$multiply(damping);\n            p.previous = np.$subtract(new Pt_1.Pt(-c[0], c[1]));\n        }\n        else if (np[1] === bound[0][1] || np[1] === bound[1][1]) {\n            let c = p.changed.$multiply(damping);\n            p.previous = np.$subtract(new Pt_1.Pt(c[0], -c[1]));\n        }\n        p.to(np);\n    }\n    integrate(p, dt, prevDt) {\n        p.addForce(this._gravity);\n        p.verlet(dt, this._friction, prevDt);\n        return p;\n    }\n    _updateParticles(dt) {\n        for (let i = 0, len = this._particles.length; i < len; i++) {\n            let p = this._particles[i];\n            this.integrate(p, dt, this._lastTime);\n            World.boundConstraint(p, this._bound, this._damping);\n            for (let k = i + 1; k < len; k++) {\n                if (i !== k) {\n                    let p2 = this._particles[k];\n                    p.collide(p2, this._damping);\n                }\n            }\n            if (this._drawParticles)\n                this._drawParticles(p, i);\n        }\n        this._lastTime = dt;\n    }\n    _updateBodies(dt) {\n        for (let i = 0, len = this._bodies.length; i < len; i++) {\n            let bds = this._bodies[i];\n            if (bds) {\n                for (let k = 0, klen = bds.length; k < klen; k++) {\n                    let bk = bds[k];\n                    World.boundConstraint(bk, this._bound, this._damping);\n                    this.integrate(bk, dt, this._lastTime);\n                }\n                for (let k = i + 1; k < len; k++) {\n                    bds.processBody(this._bodies[k]);\n                }\n                for (let m = 0, mlen = this._particles.length; m < mlen; m++) {\n                    bds.processParticle(this._particles[m]);\n                }\n                bds.processEdges();\n                if (this._drawBodies)\n                    this._drawBodies(bds, i);\n            }\n        }\n    }\n}\nexports.World = World;\nclass Particle extends Pt_1.Pt {\n    constructor(...args) {\n        super(...args);\n        this._mass = 1;\n        this._radius = 0;\n        this._force = new Pt_1.Pt();\n        this._prev = new Pt_1.Pt();\n        this._lock = false;\n        this._prev = this.clone();\n    }\n    get mass() { return this._mass; }\n    set mass(m) { this._mass = m; }\n    get radius() { return this._radius; }\n    set radius(f) { this._radius = f; }\n    get previous() { return this._prev; }\n    set previous(p) { this._prev = p; }\n    get force() { return this._force; }\n    set force(g) { this._force = g; }\n    get body() { return this._body; }\n    set body(b) { this._body = b; }\n    get lock() { return this._lock; }\n    set lock(b) {\n        this._lock = b;\n        this._lockPt = new Pt_1.Pt(this);\n    }\n    get changed() { return this.$subtract(this._prev); }\n    set position(p) {\n        this.previous.to(this);\n        if (this._lock)\n            this._lockPt = p;\n        this.to(p);\n    }\n    size(r) {\n        this._mass = r;\n        this._radius = r;\n        return this;\n    }\n    addForce(...args) {\n        this._force.add(...args);\n        return this._force;\n    }\n    verlet(dt, friction, lastDt) {\n        if (this._lock) {\n            this.to(this._lockPt);\n        }\n        else {\n            let lt = (lastDt) ? lastDt : dt;\n            let a = this._force.multiply(dt * (dt + lt) / 2);\n            let v = this.changed.multiply(friction * dt / lt).add(a);\n            this._prev = this.clone();\n            this.add(v);\n            this._force = new Pt_1.Pt();\n        }\n        return this;\n    }\n    hit(...args) {\n        this._prev.subtract(new Pt_1.Pt(...args).$divide(Math.sqrt(this._mass)));\n        return this;\n    }\n    collide(p2, damp = 1) {\n        let p1 = this;\n        let dp = p1.$subtract(p2);\n        let distSq = dp.magnitudeSq();\n        let dr = p1.radius + p2.radius;\n        if (distSq < dr * dr) {\n            let c1 = p1.changed;\n            let c2 = p2.changed;\n            let dist = Math.sqrt(distSq);\n            let d = dp.$multiply(((dist - dr) / dist) / 2);\n            let np1 = p1.$subtract(d);\n            let np2 = p2.$add(d);\n            p1.to(np1);\n            p2.to(np2);\n            let f1 = damp * dp.dot(c1) / distSq;\n            let f2 = damp * dp.dot(c2) / distSq;\n            let dm1 = p1.mass / (p1.mass + p2.mass);\n            let dm2 = p2.mass / (p1.mass + p2.mass);\n            c1.add(new Pt_1.Pt(f2 * dp[0] - f1 * dp[0], f2 * dp[1] - f1 * dp[1]).$multiply(dm2));\n            c2.add(new Pt_1.Pt(f1 * dp[0] - f2 * dp[0], f1 * dp[1] - f2 * dp[1]).$multiply(dm1));\n            p1.previous = p1.$subtract(c1);\n            p2.previous = p2.$subtract(c2);\n        }\n    }\n    toString() {\n        return `Particle: ${this[0]} ${this[1]} | previous ${this._prev[0]} ${this._prev[1]} | mass ${this._mass}`;\n    }\n}\nexports.Particle = Particle;\nclass Body extends Pt_1.Group {\n    constructor() {\n        super();\n        this._cs = [];\n        this._stiff = 1;\n        this._locks = {};\n        this._mass = 1;\n    }\n    static fromGroup(list, stiff = 1, autoLink = true, autoMass = true) {\n        let b = new Body().init(list);\n        if (autoLink)\n            b.linkAll(stiff);\n        if (autoMass)\n            b.autoMass();\n        return b;\n    }\n    init(list, stiff = 1) {\n        let c = new Pt_1.Pt();\n        for (let i = 0, len = list.length; i < len; i++) {\n            let p = new Particle(list[i]);\n            p.body = this;\n            c.add(list[i]);\n            this.push(p);\n        }\n        this._stiff = stiff;\n        return this;\n    }\n    get mass() { return this._mass; }\n    set mass(m) {\n        this._mass = m;\n        for (let i = 0, len = this.length; i < len; i++) {\n            this[i].mass = this._mass;\n        }\n    }\n    autoMass() {\n        this.mass = Math.sqrt(Op_1.Polygon.area(this)) / 10;\n        return this;\n    }\n    link(index1, index2, stiff) {\n        if (index1 < 0 || index1 >= this.length)\n            throw new Error(\"index1 is not in the Group's indices\");\n        if (index2 < 0 || index2 >= this.length)\n            throw new Error(\"index1 is not in the Group's indices\");\n        let d = this[index1].$subtract(this[index2]).magnitude();\n        this._cs.push([index1, index2, d, stiff || this._stiff]);\n        return this;\n    }\n    linkAll(stiff) {\n        let half = this.length / 2;\n        for (let i = 0, len = this.length; i < len; i++) {\n            let n = (i >= len - 1) ? 0 : i + 1;\n            this.link(i, n, stiff);\n            if (len > 4) {\n                let nd = (Math.floor(half / 2)) + 1;\n                let n2 = (i >= len - nd) ? i % len : i + nd;\n                this.link(i, n2, stiff);\n            }\n            if (i <= half - 1) {\n                this.link(i, Math.min(this.length - 1, i + Math.floor(half)));\n            }\n        }\n    }\n    linksToLines() {\n        let gs = [];\n        for (let i = 0, len = this._cs.length; i < len; i++) {\n            let ln = this._cs[i];\n            gs.push(new Pt_1.Group(this[ln[0]], this[ln[1]]));\n        }\n        return gs;\n    }\n    processEdges() {\n        for (let i = 0, len = this._cs.length; i < len; i++) {\n            let [m, n, d, s] = this._cs[i];\n            World.edgeConstraint(this[m], this[n], d, s);\n        }\n    }\n    processBody(b) {\n        let b1 = this;\n        let b2 = b;\n        let hit = Op_1.Polygon.hasIntersectPolygon(b1, b2);\n        if (hit) {\n            let cv = hit.normal.$multiply(hit.dist);\n            let t;\n            let eg = hit.edge;\n            if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n            }\n            else {\n                t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n            }\n            let lambda = 1 / (t * t + (1 - t) * (1 - t));\n            let m0 = hit.vertex.body.mass || 1;\n            let m1 = hit.edge[0].body.mass || 1;\n            let mr0 = m0 / (m0 + m1);\n            let mr1 = m1 / (m0 + m1);\n            eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n            eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n            hit.vertex.add(cv.$multiply(mr1));\n        }\n    }\n    processParticle(b) {\n        let b1 = this;\n        let b2 = b;\n        let hit = Op_1.Polygon.hasIntersectCircle(b1, Op_1.Circle.fromCenter(b, b.radius));\n        if (hit) {\n            let cv = hit.normal.$multiply(hit.dist);\n            let t;\n            let eg = hit.edge;\n            if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n            }\n            else {\n                t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n            }\n            let lambda = 1 / (t * t + (1 - t) * (1 - t));\n            let m0 = hit.vertex.mass || b2.mass || 1;\n            let m1 = hit.edge[0].body.mass || 1;\n            let mr0 = m0 / (m0 + m1);\n            let mr1 = m1 / (m0 + m1);\n            eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n            eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n            let c1 = b.changed.add(cv.$multiply(mr1));\n            b.previous = b.$subtract(c1);\n        }\n    }\n}\nexports.Body = Body;\n\n\n/***/ }),\n\n/***/ \"./src/Play.ts\":\n/*!*********************!*\\\n  !*** ./src/Play.ts ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nclass Tempo {\n    constructor(bpm) {\n        this._listeners = {};\n        this._listenerInc = 0;\n        this.bpm = bpm;\n    }\n    static fromBeat(ms) {\n        return new Tempo(60000 / ms);\n    }\n    get bpm() { return this._bpm; }\n    set bpm(n) {\n        this._bpm = n;\n        this._ms = 60000 / this._bpm;\n    }\n    get ms() { return this._ms; }\n    set ms(n) {\n        this._bpm = Math.floor(60000 / n);\n        this._ms = 60000 / this._bpm;\n    }\n    _createID(listener) {\n        let id = '';\n        if (typeof listener === 'function') {\n            id = '_b' + (this._listenerInc++);\n        }\n        else {\n            id = listener.name || '_b' + (this._listenerInc++);\n        }\n        return id;\n    }\n    every(beats) {\n        let self = this;\n        let p = Array.isArray(beats) ? beats[0] : beats;\n        return {\n            start: function (fn, offset = 0, name) {\n                let id = name || self._createID(fn);\n                self._listeners[id] = { name: id, beats: beats, period: p, index: 0, offset: offset, duration: -1, continuous: false, fn: fn };\n                return this;\n            },\n            progress: function (fn, offset = 0, name) {\n                let id = name || self._createID(fn);\n                self._listeners[id] = { name: id, beats: beats, period: p, index: 0, offset: offset, duration: -1, continuous: true, fn: fn };\n                return this;\n            }\n        };\n    }\n    track(time) {\n        for (let k in this._listeners) {\n            if (this._listeners.hasOwnProperty(k)) {\n                let li = this._listeners[k];\n                let _t = (li.offset) ? time + li.offset : time;\n                let ms = li.period * this._ms;\n                let isStart = false;\n                if (_t > li.duration + ms) {\n                    li.duration = _t - (_t % this._ms);\n                    if (Array.isArray(li.beats)) {\n                        li.index = (li.index + 1) % li.beats.length;\n                        li.period = li.beats[li.index];\n                    }\n                    isStart = true;\n                }\n                let count = Math.max(0, Math.ceil(Math.floor(li.duration / this._ms) / li.period));\n                let params = (li.continuous) ? [count, Num_1.Num.clamp((_t - li.duration) / ms, 0, 1), _t, isStart] : [count];\n                if (li.continuous || isStart) {\n                    let done = li.fn.apply(li, params);\n                    if (done)\n                        delete this._listeners[li.name];\n                }\n            }\n        }\n    }\n    stop(name) {\n        if (this._listeners[name])\n            delete this._listeners[name];\n    }\n    animate(time, ftime) {\n        this.track(time);\n    }\n    resize(bound, evt) {\n        return;\n    }\n    action(type, px, py, evt) {\n        return;\n    }\n}\nexports.Tempo = Tempo;\nclass Sound {\n    constructor(type) {\n        this._playing = false;\n        this._type = type;\n        let _ctx = window.AudioContext || window.webkitAudioContext || false;\n        if (!_ctx)\n            throw (new Error(\"Your browser doesn't support Web Audio. (No AudioContext)\"));\n        this._ctx = (_ctx) ? new _ctx() : undefined;\n    }\n    static from(node, ctx, type = \"gen\", stream) {\n        let s = new Sound(type);\n        s._node = node;\n        s._ctx = ctx;\n        if (stream)\n            s._stream = stream;\n        return s;\n    }\n    static load(source, crossOrigin = \"anonymous\") {\n        return new Promise((resolve, reject) => {\n            let s = new Sound(\"file\");\n            s._source = (typeof source === 'string') ? new Audio(source) : source;\n            s._source.autoplay = false;\n            s._source.crossOrigin = crossOrigin;\n            s._source.addEventListener(\"ended\", function () { s._playing = false; });\n            s._source.addEventListener('error', function () { reject(\"Error loading sound\"); });\n            s._source.addEventListener('canplaythrough', function () {\n                s._node = s._ctx.createMediaElementSource(s._source);\n                resolve(s);\n            });\n        });\n    }\n    static loadAsBuffer(url) {\n        return new Promise((resolve, reject) => {\n            let request = new XMLHttpRequest();\n            request.open('GET', url, true);\n            request.responseType = 'arraybuffer';\n            let s = new Sound(\"file\");\n            request.onload = function () {\n                s._ctx.decodeAudioData(request.response, function (buffer) {\n                    s.createBuffer(buffer);\n                    resolve(s);\n                }, (err) => reject(\"Error decoding audio\"));\n            };\n            request.send();\n        });\n    }\n    createBuffer(buf) {\n        this._node = this._ctx.createBufferSource();\n        if (buf !== undefined)\n            this._buffer = buf;\n        this._node.buffer = this._buffer;\n        this._node.onended = () => { this._playing = false; };\n        return this;\n    }\n    static generate(type, val) {\n        let s = new Sound(\"gen\");\n        return s._gen(type, val);\n    }\n    _gen(type, val) {\n        this._node = this._ctx.createOscillator();\n        let osc = this._node;\n        osc.type = type;\n        if (type === 'custom') {\n            osc.setPeriodicWave(val);\n        }\n        else {\n            osc.frequency.value = val;\n        }\n        return this;\n    }\n    static input(constraint) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let s = new Sound(\"input\");\n                if (!s)\n                    return undefined;\n                const c = constraint ? constraint : { audio: true, video: false };\n                s._stream = yield navigator.mediaDevices.getUserMedia(c);\n                s._node = s._ctx.createMediaStreamSource(s._stream);\n                return s;\n            }\n            catch (e) {\n                console.error(\"Cannot get audio from input device.\");\n                return Promise.resolve(null);\n            }\n        });\n    }\n    get ctx() { return this._ctx; }\n    get node() { return this._node; }\n    get stream() { return this._stream; }\n    get source() { return this._source; }\n    get buffer() { return this._buffer; }\n    set buffer(b) { this._buffer = b; }\n    get type() { return this._type; }\n    get playing() { return this._playing; }\n    get progress() {\n        let dur = 0;\n        let curr = 0;\n        if (!!this._buffer) {\n            dur = this._buffer.duration;\n            curr = (this._timestamp) ? this._ctx.currentTime - this._timestamp : 0;\n        }\n        else {\n            dur = this._source.duration;\n            curr = this._source.currentTime;\n        }\n        return curr / dur;\n    }\n    get playable() {\n        return (this._type === \"input\") ? this._node !== undefined : (!!this._buffer || this._source.readyState === 4);\n    }\n    get binSize() {\n        return this.analyzer.size;\n    }\n    get sampleRate() {\n        return this._ctx.sampleRate;\n    }\n    get frequency() {\n        return (this._type === \"gen\") ? this._node.frequency.value : 0;\n    }\n    set frequency(f) {\n        if (this._type === \"gen\")\n            this._node.frequency.value = f;\n    }\n    connect(node) {\n        this._node.connect(node);\n        return this;\n    }\n    analyze(size = 256, minDb = -100, maxDb = -30, smooth = 0.8) {\n        let a = this._ctx.createAnalyser();\n        a.fftSize = size * 2;\n        a.minDecibels = minDb;\n        a.maxDecibels = maxDb;\n        a.smoothingTimeConstant = smooth;\n        this.analyzer = {\n            node: a,\n            size: a.frequencyBinCount,\n            data: new Uint8Array(a.frequencyBinCount)\n        };\n        this._node.connect(this.analyzer.node);\n        return this;\n    }\n    _domain(time) {\n        if (this.analyzer) {\n            if (time) {\n                this.analyzer.node.getByteTimeDomainData(this.analyzer.data);\n            }\n            else {\n                this.analyzer.node.getByteFrequencyData(this.analyzer.data);\n            }\n            return this.analyzer.data;\n        }\n        return new Uint8Array(0);\n    }\n    _domainTo(time, size, position = [0, 0], trim = [0, 0]) {\n        let data = (time) ? this.timeDomain() : this.freqDomain();\n        let g = new Pt_1.Group();\n        for (let i = trim[0], len = data.length - trim[1]; i < len; i++) {\n            g.push(new Pt_1.Pt(position[0] + size[0] * i / len, position[1] + size[1] * data[i] / 255));\n        }\n        return g;\n    }\n    timeDomain() {\n        return this._domain(true);\n    }\n    timeDomainTo(size, position = [0, 0], trim = [0, 0]) {\n        return this._domainTo(true, size, position, trim);\n    }\n    freqDomain() {\n        return this._domain(false);\n    }\n    freqDomainTo(size, position = [0, 0], trim = [0, 0]) {\n        return this._domainTo(false, size, position, trim);\n    }\n    reset() {\n        this.stop();\n        this._node.disconnect();\n        return this;\n    }\n    start(timeAt = 0) {\n        if (this._ctx.state === 'suspended')\n            this._ctx.resume();\n        if (this._type === \"file\") {\n            if (!!this._buffer) {\n                this._node.start(timeAt);\n                this._timestamp = this._ctx.currentTime + timeAt;\n            }\n            else {\n                this._source.play();\n                if (timeAt > 0)\n                    this._source.currentTime = timeAt;\n            }\n        }\n        else if (this._type === \"gen\") {\n            this._gen(this._node.type, this._node.frequency.value);\n            this._node.start();\n            if (this.analyzer)\n                this._node.connect(this.analyzer.node);\n        }\n        this._node.connect(this._ctx.destination);\n        this._playing = true;\n        return this;\n    }\n    stop() {\n        if (this._playing)\n            this._node.disconnect(this._ctx.destination);\n        if (this._type === \"file\") {\n            if (!!this._buffer) {\n                if (this.progress < 1)\n                    this._node.stop();\n            }\n            else {\n                this._source.pause();\n            }\n        }\n        else if (this._type === \"gen\") {\n            this._node.stop();\n        }\n        else if (this._type === \"input\") {\n            this._stream.getAudioTracks().forEach(track => track.stop());\n        }\n        this._playing = false;\n        return this;\n    }\n    toggle() {\n        if (this._playing) {\n            this.stop();\n        }\n        else {\n            this.start();\n        }\n        return this;\n    }\n}\nexports.Sound = Sound;\n\n\n/***/ }),\n\n/***/ \"./src/Pt.ts\":\n/*!*******************!*\\\n  !*** ./src/Pt.ts ***!\n  \\*******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nconst LinearAlgebra_1 = __webpack_require__(/*! ./LinearAlgebra */ \"./src/LinearAlgebra.ts\");\nclass Pt extends Float32Array {\n    constructor(...args) {\n        if (args.length === 1 && typeof args[0] == \"number\") {\n            super(args[0]);\n        }\n        else {\n            super((args.length > 0) ? Util_1.Util.getArgs(args) : [0, 0]);\n        }\n    }\n    static make(dimensions, defaultValue = 0, randomize = false) {\n        let p = new Float32Array(dimensions);\n        if (defaultValue)\n            p.fill(defaultValue);\n        if (randomize) {\n            for (let i = 0, len = p.length; i < len; i++) {\n                p[i] = p[i] * Math.random();\n            }\n        }\n        return new Pt(p);\n    }\n    get id() { return this._id; }\n    set id(s) { this._id = s; }\n    get x() { return this[0]; }\n    set x(n) { this[0] = n; }\n    get y() { return this[1]; }\n    set y(n) { this[1] = n; }\n    get z() { return this[2]; }\n    set z(n) { this[2] = n; }\n    get w() { return this[3]; }\n    set w(n) { this[3] = n; }\n    clone() {\n        return new Pt(this);\n    }\n    equals(p, threshold = 0.000001) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (Math.abs(this[i] - p[i]) > threshold)\n                return false;\n        }\n        return true;\n    }\n    to(...args) {\n        let p = Util_1.Util.getArgs(args);\n        for (let i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n            this[i] = p[i];\n        }\n        return this;\n    }\n    $to(...args) {\n        return this.clone().to(...args);\n    }\n    toAngle(radian, magnitude, anchorFromPt = false) {\n        let m = (magnitude != undefined) ? magnitude : this.magnitude();\n        let change = [Math.cos(radian) * m, Math.sin(radian) * m];\n        return (anchorFromPt) ? this.add(change) : this.to(change);\n    }\n    op(fn) {\n        let self = this;\n        return (...params) => {\n            return fn(self, ...params);\n        };\n    }\n    ops(fns) {\n        let _ops = [];\n        for (let i = 0, len = fns.length; i < len; i++) {\n            _ops.push(this.op(fns[i]));\n        }\n        return _ops;\n    }\n    $take(axis) {\n        let p = [];\n        for (let i = 0, len = axis.length; i < len; i++) {\n            p.push(this[axis[i]] || 0);\n        }\n        return new Pt(p);\n    }\n    $concat(...args) {\n        return new Pt(this.toArray().concat(Util_1.Util.getArgs(args)));\n    }\n    add(...args) {\n        (args.length === 1 && typeof args[0] == \"number\") ? LinearAlgebra_1.Vec.add(this, args[0]) : LinearAlgebra_1.Vec.add(this, Util_1.Util.getArgs(args));\n        return this;\n    }\n    $add(...args) { return this.clone().add(...args); }\n    subtract(...args) {\n        (args.length === 1 && typeof args[0] == \"number\") ? LinearAlgebra_1.Vec.subtract(this, args[0]) : LinearAlgebra_1.Vec.subtract(this, Util_1.Util.getArgs(args));\n        return this;\n    }\n    $subtract(...args) { return this.clone().subtract(...args); }\n    multiply(...args) {\n        (args.length === 1 && typeof args[0] == \"number\") ? LinearAlgebra_1.Vec.multiply(this, args[0]) : LinearAlgebra_1.Vec.multiply(this, Util_1.Util.getArgs(args));\n        return this;\n    }\n    $multiply(...args) { return this.clone().multiply(...args); }\n    divide(...args) {\n        (args.length === 1 && typeof args[0] == \"number\") ? LinearAlgebra_1.Vec.divide(this, args[0]) : LinearAlgebra_1.Vec.divide(this, Util_1.Util.getArgs(args));\n        return this;\n    }\n    $divide(...args) { return this.clone().divide(...args); }\n    magnitudeSq() { return LinearAlgebra_1.Vec.dot(this, this); }\n    magnitude() { return LinearAlgebra_1.Vec.magnitude(this); }\n    unit(magnitude = undefined) {\n        LinearAlgebra_1.Vec.unit(this, magnitude);\n        return this;\n    }\n    $unit(magnitude = undefined) { return this.clone().unit(magnitude); }\n    dot(...args) { return LinearAlgebra_1.Vec.dot(this, Util_1.Util.getArgs(args)); }\n    $cross2D(...args) { return LinearAlgebra_1.Vec.cross2D(this, Util_1.Util.getArgs(args)); }\n    $cross(...args) { return LinearAlgebra_1.Vec.cross(this, Util_1.Util.getArgs(args)); }\n    $project(...args) {\n        return this.$multiply(this.dot(...args) / this.magnitudeSq());\n    }\n    projectScalar(...args) {\n        return this.dot(...args) / this.magnitude();\n    }\n    abs() {\n        LinearAlgebra_1.Vec.abs(this);\n        return this;\n    }\n    $abs() {\n        return this.clone().abs();\n    }\n    floor() {\n        LinearAlgebra_1.Vec.floor(this);\n        return this;\n    }\n    $floor() {\n        return this.clone().floor();\n    }\n    ceil() {\n        LinearAlgebra_1.Vec.ceil(this);\n        return this;\n    }\n    $ceil() {\n        return this.clone().ceil();\n    }\n    round() {\n        LinearAlgebra_1.Vec.round(this);\n        return this;\n    }\n    $round() {\n        return this.clone().round();\n    }\n    minValue() {\n        return LinearAlgebra_1.Vec.min(this);\n    }\n    maxValue() {\n        return LinearAlgebra_1.Vec.max(this);\n    }\n    $min(...args) {\n        let p = Util_1.Util.getArgs(args);\n        let m = this.clone();\n        for (let i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n            m[i] = Math.min(this[i], p[i]);\n        }\n        return m;\n    }\n    $max(...args) {\n        let p = Util_1.Util.getArgs(args);\n        let m = this.clone();\n        for (let i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n            m[i] = Math.max(this[i], p[i]);\n        }\n        return m;\n    }\n    angle(axis = Util_1.Const.xy) {\n        return Math.atan2(this[axis[1]], this[axis[0]]);\n    }\n    angleBetween(p, axis = Util_1.Const.xy) {\n        return Num_1.Geom.boundRadian(this.angle(axis)) - Num_1.Geom.boundRadian(p.angle(axis));\n    }\n    scale(scale, anchor) {\n        Num_1.Geom.scale(this, scale, anchor || Pt.make(this.length, 0));\n        return this;\n    }\n    rotate2D(angle, anchor, axis) {\n        Num_1.Geom.rotate2D(this, angle, anchor || Pt.make(this.length, 0), axis);\n        return this;\n    }\n    shear2D(scale, anchor, axis) {\n        Num_1.Geom.shear2D(this, scale, anchor || Pt.make(this.length, 0), axis);\n        return this;\n    }\n    reflect2D(line, axis) {\n        Num_1.Geom.reflect2D(this, line, axis);\n        return this;\n    }\n    toString() {\n        return `Pt(${this.join(\", \")})`;\n    }\n    toArray() {\n        return [].slice.call(this);\n    }\n    toGroup() {\n        return new Group(Pt.make(this.length), this.clone());\n    }\n    toBound() {\n        return new Bound(Pt.make(this.length), this.clone());\n    }\n}\nexports.Pt = Pt;\nclass Group extends Array {\n    constructor(...args) {\n        super(...args);\n    }\n    get id() { return this._id; }\n    set id(s) { this._id = s; }\n    get p1() { return this[0]; }\n    get p2() { return this[1]; }\n    get p3() { return this[2]; }\n    get p4() { return this[3]; }\n    get q1() { return this[this.length - 1]; }\n    get q2() { return this[this.length - 2]; }\n    get q3() { return this[this.length - 3]; }\n    get q4() { return this[this.length - 4]; }\n    clone() {\n        let group = new Group();\n        for (let i = 0, len = this.length; i < len; i++) {\n            group.push(this[i].clone());\n        }\n        return group;\n    }\n    static fromArray(list) {\n        let g = new Group();\n        for (let i = 0, len = list.length; i < len; i++) {\n            let p = (list[i] instanceof Pt) ? list[i] : new Pt(list[i]);\n            g.push(p);\n        }\n        return g;\n    }\n    static fromPtArray(list) {\n        return Group.from(list);\n    }\n    split(chunkSize, stride, loopBack = false) {\n        let sp = Util_1.Util.split(this, chunkSize, stride, loopBack);\n        return sp;\n    }\n    insert(pts, index = 0) {\n        Group.prototype.splice.apply(this, [index, 0, ...pts]);\n        return this;\n    }\n    remove(index = 0, count = 1) {\n        let param = (index < 0) ? [index * -1 - 1, count] : [index, count];\n        return Group.prototype.splice.apply(this, param);\n    }\n    segments(pts_per_segment = 2, stride = 1, loopBack = false) {\n        return this.split(pts_per_segment, stride, loopBack);\n    }\n    lines() { return this.segments(2, 1); }\n    centroid() {\n        return Num_1.Geom.centroid(this);\n    }\n    boundingBox() {\n        return Num_1.Geom.boundingBox(this);\n    }\n    anchorTo(ptOrIndex = 0) { Num_1.Geom.anchor(this, ptOrIndex, \"to\"); }\n    anchorFrom(ptOrIndex = 0) { Num_1.Geom.anchor(this, ptOrIndex, \"from\"); }\n    op(fn) {\n        let self = this;\n        return (...params) => {\n            return fn(self, ...params);\n        };\n    }\n    ops(fns) {\n        let _ops = [];\n        for (let i = 0, len = fns.length; i < len; i++) {\n            _ops.push(this.op(fns[i]));\n        }\n        return _ops;\n    }\n    interpolate(t) {\n        t = Num_1.Num.clamp(t, 0, 1);\n        let chunk = this.length - 1;\n        let tc = 1 / (this.length - 1);\n        let idx = Math.floor(t / tc);\n        return Num_1.Geom.interpolate(this[idx], this[Math.min(this.length - 1, idx + 1)], (t - idx * tc) * chunk);\n    }\n    moveBy(...args) {\n        return this.add(...args);\n    }\n    moveTo(...args) {\n        let d = new Pt(Util_1.Util.getArgs(args)).subtract(this[0]);\n        this.moveBy(d);\n        return this;\n    }\n    scale(scale, anchor) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            Num_1.Geom.scale(this[i], scale, anchor || this[0]);\n        }\n        return this;\n    }\n    rotate2D(angle, anchor, axis) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            Num_1.Geom.rotate2D(this[i], angle, anchor || this[0], axis);\n        }\n        return this;\n    }\n    shear2D(scale, anchor, axis) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            Num_1.Geom.shear2D(this[i], scale, anchor || this[0], axis);\n        }\n        return this;\n    }\n    reflect2D(line, axis) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            Num_1.Geom.reflect2D(this[i], line, axis);\n        }\n        return this;\n    }\n    sortByDimension(dim, desc = false) {\n        return this.sort((a, b) => (desc) ? b[dim] - a[dim] : a[dim] - b[dim]);\n    }\n    forEachPt(ptFn, ...args) {\n        if (!this[0][ptFn]) {\n            Util_1.Util.warn(`${ptFn} is not a function of Pt`);\n            return this;\n        }\n        for (let i = 0, len = this.length; i < len; i++) {\n            this[i] = this[i][ptFn](...args);\n        }\n        return this;\n    }\n    add(...args) {\n        return this.forEachPt(\"add\", ...args);\n    }\n    subtract(...args) {\n        return this.forEachPt(\"subtract\", ...args);\n    }\n    multiply(...args) {\n        return this.forEachPt(\"multiply\", ...args);\n    }\n    divide(...args) {\n        return this.forEachPt(\"divide\", ...args);\n    }\n    $matrixAdd(g) {\n        return LinearAlgebra_1.Mat.add(this, g);\n    }\n    $matrixMultiply(g, transposed = false, elementwise = false) {\n        return LinearAlgebra_1.Mat.multiply(this, g, transposed, elementwise);\n    }\n    zipSlice(index, defaultValue = false) {\n        return LinearAlgebra_1.Mat.zipSlice(this, index, defaultValue);\n    }\n    $zip(defaultValue = undefined, useLongest = false) {\n        return LinearAlgebra_1.Mat.zip(this, defaultValue, useLongest);\n    }\n    toString() {\n        return \"Group[ \" + this.reduce((p, c) => p + c.toString() + \" \", \"\") + \" ]\";\n    }\n}\nexports.Group = Group;\nclass Bound extends Group {\n    constructor(...args) {\n        super(...args);\n        this._center = new Pt();\n        this._size = new Pt();\n        this._topLeft = new Pt();\n        this._bottomRight = new Pt();\n        this._inited = false;\n        this.init();\n    }\n    static fromBoundingRect(rect) {\n        let b = new Bound(new Pt(rect.left || 0, rect.top || 0), new Pt(rect.right || 0, rect.bottom || 0));\n        if (rect.width && rect.height)\n            b.size = new Pt(rect.width, rect.height);\n        return b;\n    }\n    static fromGroup(g) {\n        if (g.length < 2)\n            throw new Error(\"Cannot create a Bound from a group that has less than 2 Pt\");\n        return new Bound(g[0], g[g.length - 1]);\n    }\n    init() {\n        if (this.p1) {\n            this._size = this.p1.clone();\n            this._inited = true;\n        }\n        if (this.p1 && this.p2) {\n            let a = this.p1;\n            let b = this.p2;\n            this.topLeft = a.$min(b);\n            this._bottomRight = a.$max(b);\n            this._updateSize();\n            this._inited = true;\n        }\n    }\n    clone() {\n        return new Bound(this._topLeft.clone(), this._bottomRight.clone());\n    }\n    _updateSize() {\n        this._size = this._bottomRight.$subtract(this._topLeft).abs();\n        this._updateCenter();\n    }\n    _updateCenter() {\n        this._center = this._size.$multiply(0.5).add(this._topLeft);\n    }\n    _updatePosFromTop() {\n        this._bottomRight = this._topLeft.$add(this._size);\n        this._updateCenter();\n    }\n    _updatePosFromBottom() {\n        this._topLeft = this._bottomRight.$subtract(this._size);\n        this._updateCenter();\n    }\n    _updatePosFromCenter() {\n        let half = this._size.$multiply(0.5);\n        this._topLeft = this._center.$subtract(half);\n        this._bottomRight = this._center.$add(half);\n    }\n    get size() { return new Pt(this._size); }\n    set size(p) {\n        this._size = new Pt(p);\n        this._updatePosFromTop();\n    }\n    get center() { return new Pt(this._center); }\n    set center(p) {\n        this._center = new Pt(p);\n        this._updatePosFromCenter();\n    }\n    get topLeft() { return new Pt(this._topLeft); }\n    set topLeft(p) {\n        this._topLeft = new Pt(p);\n        this[0] = this._topLeft;\n        this._updateSize();\n    }\n    get bottomRight() { return new Pt(this._bottomRight); }\n    set bottomRight(p) {\n        this._bottomRight = new Pt(p);\n        this[1] = this._bottomRight;\n        this._updateSize();\n    }\n    get width() { return (this._size.length > 0) ? this._size.x : 0; }\n    set width(w) {\n        this._size.x = w;\n        this._updatePosFromTop();\n    }\n    get height() { return (this._size.length > 1) ? this._size.y : 0; }\n    set height(h) {\n        this._size.y = h;\n        this._updatePosFromTop();\n    }\n    get depth() { return (this._size.length > 2) ? this._size.z : 0; }\n    set depth(d) {\n        this._size.z = d;\n        this._updatePosFromTop();\n    }\n    get x() { return this.topLeft.x; }\n    get y() { return this.topLeft.y; }\n    get z() { return this.topLeft.z; }\n    get inited() { return this._inited; }\n    update() {\n        this._topLeft = this[0];\n        this._bottomRight = this[1];\n        this._updateSize();\n        return this;\n    }\n}\nexports.Bound = Bound;\n\n\n/***/ }),\n\n/***/ \"./src/Space.ts\":\n/*!**********************!*\\\n  !*** ./src/Space.ts ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst UI_1 = __webpack_require__(/*! ./UI */ \"./src/UI.ts\");\nclass Space {\n    constructor() {\n        this.id = \"space\";\n        this.bound = new Pt_1.Bound();\n        this._time = { prev: 0, diff: 0, end: -1 };\n        this.players = {};\n        this.playerCount = 0;\n        this._animID = -1;\n        this._pause = false;\n        this._refresh = undefined;\n        this._pointer = new Pt_1.Pt();\n        this._isReady = false;\n        this._playing = false;\n    }\n    refresh(b) {\n        this._refresh = b;\n        return this;\n    }\n    add(p) {\n        let player = (typeof p == \"function\") ? { animate: p } : p;\n        let k = this.playerCount++;\n        let pid = this.id + k;\n        this.players[pid] = player;\n        player.animateID = pid;\n        if (player.resize && this.bound.inited)\n            player.resize(this.bound);\n        if (this._refresh === undefined)\n            this._refresh = true;\n        return this;\n    }\n    remove(player) {\n        delete this.players[player.animateID];\n        return this;\n    }\n    removeAll() {\n        this.players = {};\n        return this;\n    }\n    play(time = 0) {\n        if (time === 0 && this._animID !== -1) {\n            return;\n        }\n        this._animID = requestAnimationFrame(this.play.bind(this));\n        if (this._pause)\n            return this;\n        this._time.diff = time - this._time.prev;\n        this._time.prev = time;\n        try {\n            this.playItems(time);\n        }\n        catch (err) {\n            cancelAnimationFrame(this._animID);\n            this._animID = -1;\n            this._playing = false;\n            throw err;\n        }\n        return this;\n    }\n    replay() {\n        this._time.end = -1;\n        this.play();\n    }\n    playItems(time) {\n        this._playing = true;\n        if (this._refresh)\n            this.clear();\n        if (this._isReady) {\n            for (let k in this.players) {\n                if (this.players[k].animate)\n                    this.players[k].animate(time, this._time.diff, this);\n            }\n        }\n        if (this._time.end >= 0 && time > this._time.end) {\n            cancelAnimationFrame(this._animID);\n            this._animID = -1;\n            this._playing = false;\n        }\n    }\n    pause(toggle = false) {\n        this._pause = (toggle) ? !this._pause : true;\n        return this;\n    }\n    resume() {\n        this._pause = false;\n        return this;\n    }\n    stop(t = 0) {\n        this._time.end = t;\n        return this;\n    }\n    playOnce(duration = 5000) {\n        this.play();\n        this.stop(duration);\n        return this;\n    }\n    render(context) {\n        if (this._renderFunc)\n            this._renderFunc(context, this);\n        return this;\n    }\n    set customRendering(f) { this._renderFunc = f; }\n    get customRendering() { return this._renderFunc; }\n    get isPlaying() { return this._playing; }\n    get outerBound() { return this.bound.clone(); }\n    get innerBound() { return new Pt_1.Bound(Pt_1.Pt.make(this.size.length, 0), this.size.clone()); }\n    get size() { return this.bound.size.clone(); }\n    get center() { return this.size.divide(2); }\n    get width() { return this.bound.width; }\n    get height() { return this.bound.height; }\n}\nexports.Space = Space;\nclass MultiTouchSpace extends Space {\n    constructor() {\n        super(...arguments);\n        this._pressed = false;\n        this._dragged = false;\n        this._hasMouse = false;\n        this._hasTouch = false;\n    }\n    get pointer() {\n        let p = this._pointer.clone();\n        p.id = this._pointer.id;\n        return p;\n    }\n    bindCanvas(evt, callback) {\n        this._canvas.addEventListener(evt, callback);\n    }\n    unbindCanvas(evt, callback) {\n        this._canvas.removeEventListener(evt, callback);\n    }\n    bindMouse(_bind = true) {\n        if (_bind) {\n            this.bindCanvas(\"mousedown\", this._mouseDown.bind(this));\n            this.bindCanvas(\"mouseup\", this._mouseUp.bind(this));\n            this.bindCanvas(\"mouseover\", this._mouseOver.bind(this));\n            this.bindCanvas(\"mouseout\", this._mouseOut.bind(this));\n            this.bindCanvas(\"mousemove\", this._mouseMove.bind(this));\n            this.bindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n            this._hasMouse = true;\n        }\n        else {\n            this.unbindCanvas(\"mousedown\", this._mouseDown.bind(this));\n            this.unbindCanvas(\"mouseup\", this._mouseUp.bind(this));\n            this.unbindCanvas(\"mouseover\", this._mouseOver.bind(this));\n            this.unbindCanvas(\"mouseout\", this._mouseOut.bind(this));\n            this.unbindCanvas(\"mousemove\", this._mouseMove.bind(this));\n            this.unbindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n            this._hasMouse = false;\n        }\n        return this;\n    }\n    bindTouch(_bind = true) {\n        if (_bind) {\n            this.bindCanvas(\"touchstart\", this._touchStart.bind(this));\n            this.bindCanvas(\"touchend\", this._mouseUp.bind(this));\n            this.bindCanvas(\"touchmove\", this._touchMove.bind(this));\n            this.bindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n            this._hasTouch = true;\n        }\n        else {\n            this.unbindCanvas(\"touchstart\", this._touchStart.bind(this));\n            this.unbindCanvas(\"touchend\", this._mouseUp.bind(this));\n            this.unbindCanvas(\"touchmove\", this._touchMove.bind(this));\n            this.unbindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n            this._hasTouch = false;\n        }\n        return this;\n    }\n    touchesToPoints(evt, which = \"touches\") {\n        if (!evt || !evt[which])\n            return [];\n        let ts = [];\n        for (var i = 0; i < evt[which].length; i++) {\n            let t = evt[which].item(i);\n            ts.push(new Pt_1.Pt(t.pageX - this.bound.topLeft.x, t.pageY - this.bound.topLeft.y));\n        }\n        return ts;\n    }\n    _mouseAction(type, evt) {\n        let px = 0, py = 0;\n        if (evt instanceof MouseEvent) {\n            for (let k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                    let v = this.players[k];\n                    px = evt.pageX - this.outerBound.x;\n                    py = evt.pageY - this.outerBound.y;\n                    if (v.action)\n                        v.action(type, px, py, evt);\n                }\n            }\n        }\n        else {\n            for (let k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                    let v = this.players[k];\n                    let c = evt.changedTouches && evt.changedTouches.length > 0;\n                    let touch = evt.changedTouches.item(0);\n                    px = (c) ? touch.pageX - this.outerBound.x : 0;\n                    py = (c) ? touch.pageY - this.outerBound.y : 0;\n                    if (v.action)\n                        v.action(type, px, py, evt);\n                }\n            }\n        }\n        if (type) {\n            this._pointer.to(px, py);\n            this._pointer.id = type;\n        }\n    }\n    _mouseDown(evt) {\n        this._mouseAction(UI_1.UIPointerActions.down, evt);\n        this._pressed = true;\n        return false;\n    }\n    _mouseUp(evt) {\n        if (this._dragged) {\n            this._mouseAction(UI_1.UIPointerActions.drop, evt);\n        }\n        else {\n            this._mouseAction(UI_1.UIPointerActions.up, evt);\n        }\n        this._pressed = false;\n        this._dragged = false;\n        return false;\n    }\n    _mouseMove(evt) {\n        this._mouseAction(UI_1.UIPointerActions.move, evt);\n        if (this._pressed) {\n            this._dragged = true;\n            this._mouseAction(UI_1.UIPointerActions.drag, evt);\n        }\n        return false;\n    }\n    _mouseOver(evt) {\n        this._mouseAction(UI_1.UIPointerActions.over, evt);\n        return false;\n    }\n    _mouseOut(evt) {\n        this._mouseAction(UI_1.UIPointerActions.out, evt);\n        if (this._dragged)\n            this._mouseAction(UI_1.UIPointerActions.drop, evt);\n        this._dragged = false;\n        return false;\n    }\n    _contextMenu(evt) {\n        this._mouseAction(UI_1.UIPointerActions.contextmenu, evt);\n        return false;\n    }\n    _touchMove(evt) {\n        this._mouseMove(evt);\n        evt.preventDefault();\n        return false;\n    }\n    _touchStart(evt) {\n        this._mouseDown(evt);\n        evt.preventDefault();\n        return false;\n    }\n}\nexports.MultiTouchSpace = MultiTouchSpace;\n\n\n/***/ }),\n\n/***/ \"./src/Svg.ts\":\n/*!********************!*\\\n  !*** ./src/Svg.ts ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Form_1 = __webpack_require__(/*! ./Form */ \"./src/Form.ts\");\nconst Num_1 = __webpack_require__(/*! ./Num */ \"./src/Num.ts\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"./src/Util.ts\");\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nconst Dom_1 = __webpack_require__(/*! ./Dom */ \"./src/Dom.ts\");\nclass SVGSpace extends Dom_1.DOMSpace {\n    constructor(elem, callback) {\n        super(elem, callback);\n        this.id = \"svgspace\";\n        this._bgcolor = \"#999\";\n        if (this._canvas.nodeName.toLowerCase() != \"svg\") {\n            let s = SVGSpace.svgElement(this._canvas, \"svg\", `${this.id}_svg`);\n            this._container = this._canvas;\n            this._canvas = s;\n        }\n    }\n    getForm() { return new SVGForm(this); }\n    get element() {\n        return this._canvas;\n    }\n    resize(b, evt) {\n        super.resize(b, evt);\n        SVGSpace.setAttr(this.element, {\n            \"viewBox\": `0 0 ${this.bound.width} ${this.bound.height}`,\n            \"width\": `${this.bound.width}`,\n            \"height\": `${this.bound.height}`,\n            \"xmlns\": \"http://www.w3.org/2000/svg\",\n            \"version\": \"1.1\"\n        });\n        return this;\n    }\n    static svgElement(parent, name, id) {\n        if (!parent || !parent.appendChild)\n            throw new Error(\"parent is not a valid DOM element\");\n        let elem = document.querySelector(`#${id}`);\n        if (!elem) {\n            elem = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n            elem.setAttribute(\"id\", id);\n            parent.appendChild(elem);\n        }\n        return elem;\n    }\n    remove(player) {\n        let temp = this._container.querySelectorAll(\".\" + SVGForm.scopeID(player));\n        temp.forEach((el) => {\n            el.parentNode.removeChild(el);\n        });\n        return super.remove(player);\n    }\n    removeAll() {\n        this._container.innerHTML = \"\";\n        return super.removeAll();\n    }\n}\nexports.SVGSpace = SVGSpace;\nclass SVGForm extends Form_1.VisualForm {\n    constructor(space) {\n        super();\n        this._style = {\n            \"filled\": true,\n            \"stroked\": true,\n            \"fill\": \"#f03\",\n            \"stroke\": \"#fff\",\n            \"stroke-width\": 1,\n            \"stroke-linejoin\": \"bevel\",\n            \"stroke-linecap\": \"sqaure\",\n            \"opacity\": 1\n        };\n        this._ctx = {\n            group: null,\n            groupID: \"pts\",\n            groupCount: 0,\n            currentID: \"pts0\",\n            currentClass: \"\",\n            style: {},\n        };\n        this._ready = false;\n        this._space = space;\n        this._space.add({ start: () => {\n                this._ctx.group = this._space.element;\n                this._ctx.groupID = \"pts_svg_\" + (SVGForm.groupID++);\n                this._ctx.style = Object.assign({}, this._style);\n                this._ready = true;\n            } });\n    }\n    get space() { return this._space; }\n    styleTo(k, v) {\n        if (this._ctx.style[k] === undefined)\n            throw new Error(`${k} style property doesn't exist`);\n        this._ctx.style[k] = v;\n    }\n    alpha(a) {\n        this.styleTo(\"opacity\", a);\n        return this;\n    }\n    fill(c) {\n        if (typeof c == \"boolean\") {\n            this.styleTo(\"filled\", c);\n        }\n        else {\n            this.styleTo(\"filled\", true);\n            this.styleTo(\"fill\", c);\n        }\n        return this;\n    }\n    stroke(c, width, linejoin, linecap) {\n        if (typeof c == \"boolean\") {\n            this.styleTo(\"stroked\", c);\n        }\n        else {\n            this.styleTo(\"stroked\", true);\n            this.styleTo(\"stroke\", c);\n            if (width)\n                this.styleTo(\"stroke-width\", width);\n            if (linejoin)\n                this.styleTo(\"stroke-linejoin\", linejoin);\n            if (linecap)\n                this.styleTo(\"stroke-linecap\", linecap);\n        }\n        return this;\n    }\n    cls(c) {\n        if (typeof c == \"boolean\") {\n            this._ctx.currentClass = \"\";\n        }\n        else {\n            this._ctx.currentClass = c;\n        }\n        return this;\n    }\n    font(sizeOrFont, weight, style, lineHeight, family) {\n        if (typeof sizeOrFont == \"number\") {\n            this._font.size = sizeOrFont;\n            if (family)\n                this._font.face = family;\n            if (weight)\n                this._font.weight = weight;\n            if (style)\n                this._font.style = style;\n            if (lineHeight)\n                this._font.lineHeight = lineHeight;\n        }\n        else {\n            this._font = sizeOrFont;\n        }\n        this._ctx.style['font'] = this._font.value;\n        return this;\n    }\n    reset() {\n        this._ctx.style = Object.assign({}, this._style);\n        this._font = new Form_1.Font(10, \"sans-serif\");\n        this._ctx.style['font'] = this._font.value;\n        return this;\n    }\n    updateScope(group_id, group) {\n        this._ctx.group = group;\n        this._ctx.groupID = group_id;\n        this._ctx.groupCount = 0;\n        this.nextID();\n        return this._ctx;\n    }\n    scope(item) {\n        if (!item || item.animateID == null)\n            throw new Error(\"item not defined or not yet added to Space\");\n        return this.updateScope(SVGForm.scopeID(item), this.space.element);\n    }\n    nextID() {\n        this._ctx.groupCount++;\n        this._ctx.currentID = `${this._ctx.groupID}-${this._ctx.groupCount}`;\n        return this._ctx.currentID;\n    }\n    static getID(ctx) {\n        return ctx.currentID || `p-${SVGForm.domID++}`;\n    }\n    static scopeID(item) {\n        return `item-${item.animateID}`;\n    }\n    static style(elem, styles) {\n        let st = [];\n        if (!styles[\"filled\"])\n            st.push(\"fill: none\");\n        if (!styles[\"stroked\"])\n            st.push(\"stroke: none\");\n        for (let k in styles) {\n            if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                let v = styles[k];\n                if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('fill') === 0) {\n                        continue;\n                    }\n                    else if (!styles[\"stroked\"] && k.indexOf('stroke') === 0) {\n                        continue;\n                    }\n                    else {\n                        st.push(`${k}: ${v}`);\n                    }\n                }\n            }\n        }\n        return Dom_1.DOMSpace.setAttr(elem, { style: st.join(\";\") });\n    }\n    static point(ctx, pt, radius = 5, shape = \"square\") {\n        if (shape === \"circle\") {\n            return SVGForm.circle(ctx, pt, radius);\n        }\n        else {\n            return SVGForm.square(ctx, pt, radius);\n        }\n    }\n    point(pt, radius = 5, shape = \"square\") {\n        this.nextID();\n        SVGForm.point(this._ctx, pt, radius, shape);\n        return this;\n    }\n    static circle(ctx, pt, radius = 10) {\n        let elem = SVGSpace.svgElement(ctx.group, \"circle\", SVGForm.getID(ctx));\n        Dom_1.DOMSpace.setAttr(elem, {\n            cx: pt[0],\n            cy: pt[1],\n            r: radius,\n            'class': `pts-svgform pts-circle ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    circle(pts) {\n        this.nextID();\n        SVGForm.circle(this._ctx, pts[0], pts[1][0]);\n        return this;\n    }\n    static arc(ctx, pt, radius, startAngle, endAngle, cc) {\n        let elem = SVGSpace.svgElement(ctx.group, \"path\", SVGForm.getID(ctx));\n        const start = new Pt_1.Pt(pt).toAngle(startAngle, radius, true);\n        const end = new Pt_1.Pt(pt).toAngle(endAngle, radius, true);\n        const diff = Num_1.Geom.boundAngle(endAngle) - Num_1.Geom.boundAngle(startAngle);\n        let largeArc = (diff > Util_1.Const.pi) ? true : false;\n        if (cc)\n            largeArc = !largeArc;\n        const sweep = (cc) ? \"0\" : \"1\";\n        const d = `M ${start[0]} ${start[1]} A ${radius} ${radius} 0 ${largeArc ? \"1\" : \"0\"} ${sweep} ${end[0]} ${end[1]}`;\n        Dom_1.DOMSpace.setAttr(elem, {\n            d: d,\n            'class': `pts-svgform pts-arc ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    arc(pt, radius, startAngle, endAngle, cc) {\n        this.nextID();\n        SVGForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n        return this;\n    }\n    static square(ctx, pt, halfsize) {\n        let elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n        Dom_1.DOMSpace.setAttr(elem, {\n            x: pt[0] - halfsize,\n            y: pt[1] - halfsize,\n            width: halfsize * 2,\n            height: halfsize * 2,\n            'class': `pts-svgform pts-square ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    square(pt, halfsize) {\n        this.nextID();\n        SVGForm.square(this._ctx, pt, halfsize);\n        return this;\n    }\n    static line(ctx, pts) {\n        if (!this._checkSize(pts))\n            return;\n        if (pts.length > 2)\n            return SVGForm._poly(ctx, pts, false);\n        let elem = SVGSpace.svgElement(ctx.group, \"line\", SVGForm.getID(ctx));\n        Dom_1.DOMSpace.setAttr(elem, {\n            x1: pts[0][0],\n            y1: pts[0][1],\n            x2: pts[1][0],\n            y2: pts[1][1],\n            'class': `pts-svgform pts-line ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    line(pts) {\n        this.nextID();\n        SVGForm.line(this._ctx, pts);\n        return this;\n    }\n    static _poly(ctx, pts, closePath = true) {\n        if (!this._checkSize(pts))\n            return;\n        let elem = SVGSpace.svgElement(ctx.group, ((closePath) ? \"polygon\" : \"polyline\"), SVGForm.getID(ctx));\n        let points = pts.reduce((a, p) => a + `${p[0]},${p[1]} `, \"\");\n        Dom_1.DOMSpace.setAttr(elem, {\n            points: points,\n            'class': `pts-svgform pts-polygon ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    static polygon(ctx, pts) {\n        return SVGForm._poly(ctx, pts, true);\n    }\n    polygon(pts) {\n        this.nextID();\n        SVGForm.polygon(this._ctx, pts);\n        return this;\n    }\n    static rect(ctx, pts) {\n        if (!this._checkSize(pts))\n            return;\n        let elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n        let bound = Pt_1.Group.fromArray(pts).boundingBox();\n        let size = Op_1.Rectangle.size(bound);\n        Dom_1.DOMSpace.setAttr(elem, {\n            x: bound[0][0],\n            y: bound[0][1],\n            width: size[0],\n            height: size[1],\n            'class': `pts-svgform pts-rect ${ctx.currentClass}`,\n        });\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    rect(pts) {\n        this.nextID();\n        SVGForm.rect(this._ctx, pts);\n        return this;\n    }\n    static text(ctx, pt, txt) {\n        let elem = SVGSpace.svgElement(ctx.group, \"text\", SVGForm.getID(ctx));\n        Dom_1.DOMSpace.setAttr(elem, {\n            \"pointer-events\": \"none\",\n            x: pt[0],\n            y: pt[1],\n            dx: 0, dy: 0,\n            'class': `pts-svgform pts-text ${ctx.currentClass}`,\n        });\n        elem.textContent = txt;\n        SVGForm.style(elem, ctx.style);\n        return elem;\n    }\n    text(pt, txt) {\n        this.nextID();\n        SVGForm.text(this._ctx, pt, txt);\n        return this;\n    }\n    log(txt) {\n        this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n        return this;\n    }\n}\nSVGForm.groupID = 0;\nSVGForm.domID = 0;\nexports.SVGForm = SVGForm;\n\n\n/***/ }),\n\n/***/ \"./src/Typography.ts\":\n/*!***************************!*\\\n  !*** ./src/Typography.ts ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nclass Typography {\n    static textWidthEstimator(fn, samples = [\"M\", \"n\", \".\"], distribution = [0.06, 0.8, 0.14]) {\n        let m = samples.map(fn);\n        let avg = new Pt_1.Pt(distribution).dot(m);\n        return (str) => str.length * avg;\n    }\n    static truncate(fn, str, width, tail = \"\") {\n        let trim = Math.floor(str.length * Math.min(1, width / fn(str)));\n        if (trim < str.length) {\n            trim = Math.max(0, trim - tail.length);\n            return [str.substr(0, trim) + tail, trim];\n        }\n        else {\n            return [str, str.length];\n        }\n    }\n    static fontSizeToBox(box, ratio = 1, byHeight = true) {\n        let i = byHeight ? 1 : 0;\n        let h = (box[1][i] - box[0][i]);\n        let f = ratio * h;\n        return function (b) {\n            let nh = (b[1][i] - b[0][i]) / h;\n            return f * nh;\n        };\n    }\n    static fontSizeToThreshold(threshold, direction = 0) {\n        return function (defaultSize, val) {\n            let d = defaultSize * val / threshold;\n            if (direction < 0)\n                return Math.min(d, defaultSize);\n            if (direction > 0)\n                return Math.max(d, defaultSize);\n            return d;\n        };\n    }\n}\nexports.Typography = Typography;\n\n\n/***/ }),\n\n/***/ \"./src/UI.ts\":\n/*!*******************!*\\\n  !*** ./src/UI.ts ***!\n  \\*******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nconst Op_1 = __webpack_require__(/*! ./Op */ \"./src/Op.ts\");\nexports.UIShape = {\n    rectangle: \"rectangle\", circle: \"circle\", polygon: \"polygon\", polyline: \"polyline\", line: \"line\"\n};\nexports.UIPointerActions = {\n    up: \"up\", down: \"down\", move: \"move\", drag: \"drag\", uidrag: \"uidrag\", drop: \"drop\", uidrop: \"uidrop\", over: \"over\", out: \"out\", enter: \"enter\", leave: \"leave\", contextmenu: \"contextmenu\", all: \"all\"\n};\nclass UI {\n    constructor(group, shape, states = {}, id) {\n        this._holds = new Map();\n        this._group = Pt_1.Group.fromArray(group);\n        this._shape = shape;\n        this._id = id === undefined ? `ui_${(UI._counter++)}` : id;\n        this._states = states;\n        this._actions = {};\n    }\n    static fromRectangle(group, states, id) {\n        return new this(group, exports.UIShape.rectangle, states, id);\n    }\n    static fromCircle(group, states, id) {\n        return new this(group, exports.UIShape.circle, states, id);\n    }\n    static fromPolygon(group, states, id) {\n        return new this(group, exports.UIShape.polygon, states, id);\n    }\n    static fromUI(ui, states, id) {\n        return new this(ui.group, ui.shape, states || ui._states, id);\n    }\n    get id() { return this._id; }\n    set id(d) { this._id = d; }\n    get group() { return this._group; }\n    set group(d) { this._group = d; }\n    get shape() { return this._shape; }\n    set shape(d) { this._shape = d; }\n    state(key, value) {\n        if (!key)\n            return null;\n        if (value !== undefined) {\n            this._states[key] = value;\n            return this;\n        }\n        return this._states[key];\n    }\n    on(type, fn) {\n        if (!this._actions[type])\n            this._actions[type] = [];\n        return UI._addHandler(this._actions[type], fn);\n    }\n    off(type, which) {\n        if (!this._actions[type])\n            return false;\n        if (which === undefined) {\n            delete this._actions[type];\n            return true;\n        }\n        else {\n            return UI._removeHandler(this._actions[type], which);\n        }\n    }\n    listen(type, p, evt) {\n        if (this._actions[type] !== undefined) {\n            if (this._within(p) || Array.from(this._holds.values()).indexOf(type) >= 0) {\n                UI._trigger(this._actions[type], this, p, type, evt);\n                return true;\n            }\n            else if (this._actions['all']) {\n                UI._trigger(this._actions['all'], this, p, type, evt);\n                return true;\n            }\n        }\n        return false;\n    }\n    hold(type) {\n        let newKey = Math.max(0, ...Array.from(this._holds.keys())) + 1;\n        this._holds.set(newKey, type);\n        return newKey;\n    }\n    unhold(key) {\n        if (key !== undefined) {\n            this._holds.delete(key);\n        }\n        else {\n            this._holds.clear();\n        }\n    }\n    static track(uis, type, p, evt) {\n        for (let i = 0, len = uis.length; i < len; i++) {\n            uis[i].listen(type, p, evt);\n        }\n    }\n    render(fn) {\n        fn(this._group, this._states);\n    }\n    toString() {\n        return `UI ${this.group.toString}`;\n    }\n    _within(p) {\n        let fn = null;\n        if (this._shape === exports.UIShape.rectangle) {\n            fn = Op_1.Rectangle.withinBound;\n        }\n        else if (this._shape === exports.UIShape.circle) {\n            fn = Op_1.Circle.withinBound;\n        }\n        else if (this._shape === exports.UIShape.polygon) {\n            fn = Op_1.Polygon.hasIntersectPoint;\n        }\n        else {\n            return false;\n        }\n        return fn(this._group, p);\n    }\n    static _trigger(fns, target, pt, type, evt) {\n        if (fns) {\n            for (let i = 0, len = fns.length; i < len; i++) {\n                if (fns[i])\n                    fns[i](target, pt, type, evt);\n            }\n        }\n    }\n    static _addHandler(fns, fn) {\n        if (fn) {\n            fns.push(fn);\n            return fns.length - 1;\n        }\n        else {\n            return -1;\n        }\n    }\n    static _removeHandler(fns, index) {\n        if (index >= 0 && index < fns.length) {\n            let temp = fns.length;\n            fns.splice(index, 1);\n            return (temp > fns.length);\n        }\n        else {\n            return false;\n        }\n    }\n}\nUI._counter = 0;\nexports.UI = UI;\nclass UIButton extends UI {\n    constructor(group, shape, states = {}, id) {\n        super(group, shape, states, id);\n        this._hoverID = -1;\n        if (states.hover === undefined)\n            this._states['hover'] = false;\n        if (states.clicks === undefined)\n            this._states['clicks'] = 0;\n        const UA = exports.UIPointerActions;\n        this.on(UA.up, (target, pt, type, evt) => {\n            this.state('clicks', this._states.clicks + 1);\n        });\n        this.on(UA.move, (target, pt, type, evt) => {\n            let hover = this._within(pt);\n            if (hover && !this._states.hover) {\n                this.state('hover', true);\n                UI._trigger(this._actions[UA.enter], this, pt, UA.enter, evt);\n                var _capID = this.hold(UA.move);\n                this._hoverID = this.on(UA.move, (t, p) => {\n                    if (!this._within(p) && !this.state('dragging')) {\n                        this.state('hover', false);\n                        UI._trigger(this._actions[UA.leave], this, pt, UA.leave, evt);\n                        this.off(UA.move, this._hoverID);\n                        this.unhold(_capID);\n                    }\n                });\n            }\n        });\n    }\n    onClick(fn) {\n        return this.on(exports.UIPointerActions.up, fn);\n    }\n    offClick(id) {\n        return this.off(exports.UIPointerActions.up, id);\n    }\n    onContextMenu(fn) {\n        return this.on(exports.UIPointerActions.contextmenu, fn);\n    }\n    offContextMenu(id) {\n        return this.off(exports.UIPointerActions.contextmenu, id);\n    }\n    onHover(enter, leave) {\n        var ids = [undefined, undefined];\n        if (enter)\n            ids[0] = this.on(exports.UIPointerActions.enter, enter);\n        if (leave)\n            ids[1] = this.on(exports.UIPointerActions.leave, leave);\n        return ids;\n    }\n    offHover(enterID, leaveID) {\n        var s = [false, false];\n        if (enterID === undefined || enterID >= 0)\n            s[0] = this.off(exports.UIPointerActions.enter, enterID);\n        if (leaveID === undefined || leaveID >= 0)\n            s[1] = this.off(exports.UIPointerActions.leave, leaveID);\n        return s;\n    }\n}\nexports.UIButton = UIButton;\nclass UIDragger extends UIButton {\n    constructor(group, shape, states = {}, id) {\n        super(group, shape, states, id);\n        this._draggingID = -1;\n        this._moveHoldID = -1;\n        this._dropHoldID = -1;\n        this._upHoldID = -1;\n        if (states.dragging === undefined)\n            this._states['dragging'] = false;\n        if (states.moved === undefined)\n            this._states['moved'] = false;\n        if (states.offset === undefined)\n            this._states['offset'] = new Pt_1.Pt();\n        const UA = exports.UIPointerActions;\n        this.on(UA.down, (target, pt, type, evt) => {\n            if (this._moveHoldID === -1) {\n                this.state('dragging', true);\n                this.state('offset', new Pt_1.Pt(pt).subtract(target.group[0]));\n                this._moveHoldID = this.hold(UA.move);\n            }\n            if (this._dropHoldID === -1) {\n                this._dropHoldID = this.hold(UA.drop);\n            }\n            if (this._upHoldID === -1) {\n                this._upHoldID = this.hold(UA.up);\n            }\n            if (this._draggingID === -1) {\n                this._draggingID = this.on(UA.move, (t, p) => {\n                    if (this.state('dragging')) {\n                        UI._trigger(this._actions[UA.uidrag], t, p, UA.uidrag, evt);\n                        this.state('moved', true);\n                    }\n                });\n            }\n        });\n        const endDrag = (target, pt, type, evt) => {\n            this.state('dragging', false);\n            this.off(UA.move, this._draggingID);\n            this._draggingID = -1;\n            this.unhold(this._moveHoldID);\n            this._moveHoldID = -1;\n            this.unhold(this._dropHoldID);\n            this._dropHoldID = -1;\n            this.unhold(this._upHoldID);\n            this._upHoldID = -1;\n            if (this.state('moved')) {\n                UI._trigger(this._actions[UA.uidrop], target, pt, UA.uidrop, evt);\n                this.state('moved', false);\n            }\n        };\n        this.on(UA.drop, endDrag);\n        this.on(UA.up, endDrag);\n        this.on(UA.out, endDrag);\n    }\n    onDrag(fn) {\n        return this.on(exports.UIPointerActions.uidrag, fn);\n    }\n    offDrag(id) {\n        return this.off(exports.UIPointerActions.uidrag, id);\n    }\n    onDrop(fn) {\n        return this.on(exports.UIPointerActions.uidrop, fn);\n    }\n    offDrop(id) {\n        return this.off(exports.UIPointerActions.uidrop, id);\n    }\n}\nexports.UIDragger = UIDragger;\n\n\n/***/ }),\n\n/***/ \"./src/Util.ts\":\n/*!*********************!*\\\n  !*** ./src/Util.ts ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pt_1 = __webpack_require__(/*! ./Pt */ \"./src/Pt.ts\");\nexports.Const = {\n    xy: \"xy\",\n    yz: \"yz\",\n    xz: \"xz\",\n    xyz: \"xyz\",\n    horizontal: 0,\n    vertical: 1,\n    identical: 0,\n    right: 4,\n    bottom_right: 5,\n    bottom: 6,\n    bottom_left: 7,\n    left: 8,\n    top_left: 1,\n    top: 2,\n    top_right: 3,\n    epsilon: 0.0001,\n    max: Number.MAX_VALUE,\n    min: Number.MIN_VALUE,\n    pi: Math.PI,\n    two_pi: 6.283185307179586,\n    half_pi: 1.5707963267948966,\n    quarter_pi: 0.7853981633974483,\n    one_degree: 0.017453292519943295,\n    rad_to_deg: 57.29577951308232,\n    deg_to_rad: 0.017453292519943295,\n    gravity: 9.81,\n    newton: 0.10197,\n    gaussian: 0.3989422804014327\n};\nclass Util {\n    static warnLevel(lv) {\n        if (lv) {\n            Util._warnLevel = lv;\n        }\n        return Util._warnLevel;\n    }\n    static getArgs(args) {\n        if (args.length < 1)\n            return [];\n        let pos = [];\n        let isArray = Array.isArray(args[0]) || ArrayBuffer.isView(args[0]);\n        if (typeof args[0] === 'number') {\n            pos = Array.prototype.slice.call(args);\n        }\n        else if (typeof args[0] === 'object' && !isArray) {\n            let a = [\"x\", \"y\", \"z\", \"w\"];\n            let p = args[0];\n            for (let i = 0; i < a.length; i++) {\n                if ((p.length && i >= p.length) || !(a[i] in p))\n                    break;\n                pos.push(p[a[i]]);\n            }\n        }\n        else if (isArray) {\n            pos = [].slice.call(args[0]);\n        }\n        return pos;\n    }\n    static warn(message = \"error\", defaultReturn = undefined) {\n        if (Util.warnLevel() == \"error\") {\n            throw new Error(message);\n        }\n        else if (Util.warnLevel() == \"warn\") {\n            console.warn(message);\n        }\n        return defaultReturn;\n    }\n    static randomInt(range, start = 0) {\n        return Math.floor(Math.random() * range) + start;\n    }\n    static split(pts, size, stride, loopBack = false, matchSize = true) {\n        let chunks = [];\n        let part = [];\n        let st = stride || size;\n        let index = 0;\n        if (pts.length <= 0 || st <= 0)\n            return [];\n        while (index < pts.length) {\n            part = [];\n            for (let k = 0; k < size; k++) {\n                if (loopBack) {\n                    part.push(pts[(index + k) % pts.length]);\n                }\n                else {\n                    if (index + k >= pts.length)\n                        break;\n                    part.push(pts[index + k]);\n                }\n            }\n            index += st;\n            if (!matchSize || (matchSize && part.length === size))\n                chunks.push(part);\n        }\n        return chunks;\n    }\n    static flatten(pts, flattenAsGroup = true) {\n        let arr = (flattenAsGroup) ? new Pt_1.Group() : new Array();\n        return arr.concat.apply(arr, pts);\n    }\n    static combine(a, b, op) {\n        let result = [];\n        for (let i = 0, len = a.length; i < len; i++) {\n            for (let k = 0, lenB = b.length; k < lenB; k++) {\n                result.push(op(a[i], b[k]));\n            }\n        }\n        return result;\n    }\n    static zip(arrays) {\n        let z = [];\n        for (let i = 0, len = arrays[0].length; i < len; i++) {\n            let p = [];\n            for (let k = 0; k < arrays.length; k++) {\n                p.push(arrays[k][i]);\n            }\n            z.push(p);\n        }\n        return z;\n    }\n    static stepper(max, min = 0, stride = 1, callback) {\n        let c = min;\n        return function () {\n            c += stride;\n            if (c >= max) {\n                c = min + (c - max);\n            }\n            if (callback)\n                callback(c);\n            return c;\n        };\n    }\n    static forRange(fn, range, start = 0, step = 1) {\n        let temp = [];\n        for (let i = start, len = range; i < len; i += step) {\n            temp[i] = fn(i);\n        }\n        return temp;\n    }\n    static load(url, callback) {\n        var request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.onload = function () {\n            if (request.status >= 200 && request.status < 400) {\n                callback(request.responseText, true);\n            }\n            else {\n                callback(`Server error (${request.status}) when loading \"${url}\"`, false);\n            }\n        };\n        request.onerror = function () {\n            callback(`Unknown network error`, false);\n        };\n        request.send();\n    }\n}\nUtil._warnLevel = \"mute\";\nexports.Util = Util;\n\n\n/***/ }),\n\n/***/ \"./src/_lib.ts\":\n/*!*********************!*\\\n  !*** ./src/_lib.ts ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(/*! ./Canvas */ \"./src/Canvas.ts\"));\n__export(__webpack_require__(/*! ./Create */ \"./src/Create.ts\"));\n__export(__webpack_require__(/*! ./Form */ \"./src/Form.ts\"));\n__export(__webpack_require__(/*! ./LinearAlgebra */ \"./src/LinearAlgebra.ts\"));\n__export(__webpack_require__(/*! ./Num */ \"./src/Num.ts\"));\n__export(__webpack_require__(/*! ./Op */ \"./src/Op.ts\"));\n__export(__webpack_require__(/*! ./Pt */ \"./src/Pt.ts\"));\n__export(__webpack_require__(/*! ./Space */ \"./src/Space.ts\"));\n__export(__webpack_require__(/*! ./Color */ \"./src/Color.ts\"));\n__export(__webpack_require__(/*! ./Util */ \"./src/Util.ts\"));\n__export(__webpack_require__(/*! ./Dom */ \"./src/Dom.ts\"));\n__export(__webpack_require__(/*! ./Svg */ \"./src/Svg.ts\"));\n__export(__webpack_require__(/*! ./Typography */ \"./src/Typography.ts\"));\n__export(__webpack_require__(/*! ./Physics */ \"./src/Physics.ts\"));\n__export(__webpack_require__(/*! ./UI */ \"./src/UI.ts\"));\n__export(__webpack_require__(/*! ./Play */ \"./src/Play.ts\"));\nconst _Canvas = __webpack_require__(/*! ./Canvas */ \"./src/Canvas.ts\");\nexports.namespace = (scope) => {\n    let lib = module.exports;\n    for (let k in lib) {\n        if (k != \"namespace\") {\n            scope[k] = lib[k];\n        }\n    }\n};\nexports.quickStart = (id, bg = \"#9ab\") => {\n    let s = window;\n    exports.namespace(s);\n    s.space = new _Canvas.CanvasSpace(id).setup({ bgcolor: bg, resize: true, retina: true });\n    s.form = s.space.getForm();\n    return function (animate = null, start = null, action = null, resize = null) {\n        s.space.add({\n            start: start,\n            animate: animate,\n            resize: resize,\n            action: action,\n        });\n        s.space.bindMouse().bindTouch().play();\n    };\n};\n\n\n/***/ })\n\n/******/ });\n});\n"]}